<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>DlgPembelian.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCoverage analysis of project &quot;KhanzaHMS&quot; (powered by JaCoCo from EclEmma)</a> &gt; <a href="index.source.html" class="el_package">inventory</a> &gt; <span class="el_source">DlgPembelian.java</span></div><h1>DlgPembelian.java</h1><pre class="source lang-java linenums">package inventory;


import fungsi.WarnaTable;
import fungsi.batasInput;
import fungsi.koneksiDB;
import fungsi.sekuel;
import fungsi.validasi;
import fungsi.var;
import java.awt.Cursor;
import java.awt.Dimension;
import java.awt.Toolkit;
import java.awt.event.KeyEvent;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.text.DecimalFormat;
import javax.swing.JOptionPane;
import javax.swing.JTable;
import javax.swing.event.DocumentEvent;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.TableColumn;
import keuangan.Jurnal;
import khanzahms.DlgCariBangsal;

public class DlgPembelian extends javax.swing.JDialog {
    private final DefaultTableModel tabMode;
<span class="nc" id="L31">    private sekuel Sequel=new sekuel();</span>
<span class="nc" id="L32">    private validasi Valid=new validasi();</span>
<span class="nc" id="L33">    private Jurnal jur=new Jurnal();</span>
<span class="nc" id="L34">    private Connection koneksi=koneksiDB.condb();</span>
    private PreparedStatement ps;
    private ResultSet rs;
<span class="nc" id="L37">    private Dimension screen=Toolkit.getDefaultToolkit().getScreenSize();</span>
<span class="nc" id="L38">    private DlgCariBangsal bangsal=new DlgCariBangsal(null,false);</span>
<span class="nc" id="L39">    private DlgCariPembelian form=new DlgCariPembelian(null,false);</span>
<span class="nc" id="L40">    private DecimalFormat df2 = new DecimalFormat(&quot;###,###,###,###,###,###,###&quot;);</span>
<span class="nc" id="L41">    private DecimalFormat df3 = new DecimalFormat(&quot;###&quot;);</span>
<span class="nc" id="L42">    private double saldoawal=0,mutasi=0,kas=0,ttl=0,y=0,w=0,ttldisk=0,sbttl=0,ppn=0,tagihan=0;</span>
<span class="nc" id="L43">    private int jml=0,i=0,row=0,index=0;</span>
    private String[] kodebarang,namabarang,satuan,harga,jumlah,subtotal,diskon,besardiskon,jmltotal;

    /** Creates new form DlgProgramStudi
     * @param parent
     * @param modal */
    public DlgPembelian(java.awt.Frame parent, boolean modal) {
<span class="nc" id="L50">        super(parent, modal);</span>
<span class="nc" id="L51">        initComponents();</span>

<span class="nc" id="L53">        Object[] row={&quot;Jumlah&quot;,&quot;Kode Barang&quot;,&quot;Nama Barang&quot;,&quot;Satuan&quot;,&quot;Hrg.Beli(Rp)&quot;,&quot;Subtotal Beli(Rp)&quot;,&quot;Diskon(%)&quot;,&quot;Diskon(Rp)&quot;,&quot;Ttl.Beli&quot;};</span>
<span class="nc" id="L54">        tabMode=new DefaultTableModel(null,row){</span>
              @Override public boolean isCellEditable(int rowIndex, int colIndex){
<span class="nc" id="L56">                boolean a = false;</span>
<span class="nc bnc" id="L57" title="All 6 branches missed.">                if ((colIndex==0)||(colIndex==4)||(colIndex==6)) {</span>
<span class="nc" id="L58">                    a=true;</span>
                }
<span class="nc" id="L60">                return a;</span>
             }
        };
<span class="nc" id="L63">        tbDokter.setModel(tabMode);</span>

<span class="nc" id="L65">        tbDokter.setPreferredScrollableViewportSize(new Dimension(800,800));</span>
<span class="nc" id="L66">        tbDokter.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);</span>

<span class="nc bnc" id="L68" title="All 2 branches missed.">        for (i = 0; i &lt; 9; i++) {</span>
<span class="nc" id="L69">            TableColumn column = tbDokter.getColumnModel().getColumn(i);</span>
<span class="nc bnc" id="L70" title="All 2 branches missed.">            if(i==0){</span>
<span class="nc" id="L71">                column.setPreferredWidth(90);</span>
<span class="nc bnc" id="L72" title="All 2 branches missed.">            }else if(i==1){</span>
<span class="nc" id="L73">                column.setPreferredWidth(100);</span>
<span class="nc bnc" id="L74" title="All 2 branches missed.">            }else if(i==2){</span>
<span class="nc" id="L75">                column.setPreferredWidth(350);</span>
<span class="nc bnc" id="L76" title="All 2 branches missed.">            }else if(i==3){</span>
<span class="nc" id="L77">                column.setPreferredWidth(70);</span>
<span class="nc bnc" id="L78" title="All 2 branches missed.">            }else if(i==4){</span>
<span class="nc" id="L79">                column.setPreferredWidth(100);</span>
<span class="nc bnc" id="L80" title="All 2 branches missed.">            }else if(i==5){</span>
<span class="nc" id="L81">                column.setPreferredWidth(150);</span>
<span class="nc bnc" id="L82" title="All 2 branches missed.">            }else if(i==6){</span>
<span class="nc" id="L83">                column.setPreferredWidth(70);</span>
<span class="nc bnc" id="L84" title="All 2 branches missed.">            }else if(i==7){</span>
<span class="nc" id="L85">                column.setPreferredWidth(100);</span>
<span class="nc bnc" id="L86" title="All 2 branches missed.">            }else if(i==8){</span>
<span class="nc" id="L87">                column.setPreferredWidth(150);</span>
            }
        }
<span class="nc" id="L90">        tbDokter.setDefaultRenderer(Object.class, new WarnaTable());</span>

<span class="nc" id="L92">        NoFaktur.setDocument(new batasInput((byte)15).getKata(NoFaktur));</span>
<span class="nc" id="L93">        kdsup.setDocument(new batasInput((byte)5).getKata(kdsup));</span>
<span class="nc" id="L94">        kdptg.setDocument(new batasInput((byte)25).getKata(kdptg));</span>
       
        
<span class="nc" id="L97">        form.suplier.getTabel().addMouseListener(new MouseListener() {</span>
            @Override
            public void mouseClicked(MouseEvent e) {         
<span class="nc" id="L100">                kdsup.setText(form.suplier.getTextField().getText());</span>
<span class="nc" id="L101">                Sequel.cariIsi(&quot;select nama_suplier from datasuplier where kode_suplier=?&quot;, nmsup,kdsup.getText());</span>
<span class="nc" id="L102">            }</span>

            @Override
<span class="nc" id="L105">            public void mousePressed(MouseEvent e) {}</span>
            @Override
<span class="nc" id="L107">            public void mouseReleased(MouseEvent e) {}</span>
            @Override
<span class="nc" id="L109">            public void mouseEntered(MouseEvent e) {}</span>
            @Override
<span class="nc" id="L111">            public void mouseExited(MouseEvent e) {}</span>
        });
<span class="nc" id="L113">        form.petugas.getTable().addMouseListener(new MouseListener() {</span>
            @Override
            public void mouseClicked(MouseEvent e) { 
<span class="nc" id="L116">                kdptg.setText(form.petugas.getTextField().getText());</span>
<span class="nc" id="L117">                Sequel.cariIsi(&quot;select nama from petugas where nip=?&quot;,nmptg,kdptg.getText());</span>
<span class="nc" id="L118">            }</span>

            @Override
<span class="nc" id="L121">            public void mousePressed(MouseEvent e) {}</span>
            @Override
<span class="nc" id="L123">            public void mouseReleased(MouseEvent e) {}</span>
            @Override
<span class="nc" id="L125">            public void mouseEntered(MouseEvent e) {}</span>
            @Override
<span class="nc" id="L127">            public void mouseExited(MouseEvent e) {}</span>
        });
        
<span class="nc" id="L130">        TCari.getDocument().addDocumentListener(new javax.swing.event.DocumentListener(){</span>

            @Override
            public void insertUpdate(DocumentEvent e) {
<span class="nc" id="L134">                tampil();</span>
<span class="nc" id="L135">            }</span>

            @Override
            public void removeUpdate(DocumentEvent e) {
<span class="nc" id="L139">                tampil();</span>
<span class="nc" id="L140">            }</span>

            @Override
            public void changedUpdate(DocumentEvent e) {
<span class="nc" id="L144">                tampil();</span>
<span class="nc" id="L145">            }</span>

        });
        
<span class="nc" id="L149">        bangsal.getTable().addMouseListener(new MouseListener() {</span>
            @Override
            public void mouseClicked(MouseEvent e) { 
<span class="nc" id="L152">                    kdgudang.setText(bangsal.getTextField().getText());</span>
<span class="nc" id="L153">                    Sequel.cariIsi(&quot;select bangsal.nm_bangsal from bangsal where bangsal.kd_bangsal=?&quot;,nmgudang,kdgudang.getText());</span>
<span class="nc" id="L154">            }</span>

            @Override
<span class="nc" id="L157">            public void mousePressed(MouseEvent e) {}</span>
            @Override
<span class="nc" id="L159">            public void mouseReleased(MouseEvent e) {}</span>
            @Override
<span class="nc" id="L161">            public void mouseEntered(MouseEvent e) {}</span>
            @Override
<span class="nc" id="L163">            public void mouseExited(MouseEvent e) {}</span>
        });
        try{            
<span class="nc" id="L166">            ps=koneksi.prepareStatement(&quot;select databarang.kode_brng, databarang.nama_brng,databarang.kode_sat, databarang.h_beli &quot;+</span>
                &quot; from databarang inner join jenis on databarang.kdjns=jenis.kdjns &quot;+
                &quot; where databarang.kode_brng like ? or &quot;+
                &quot; databarang.nama_brng like ? or &quot;+
                &quot; jenis.nama like ? order by databarang.nama_brng&quot;);
<span class="nc" id="L171">        }catch(SQLException e){</span>
<span class="nc" id="L172">            System.out.println(e);</span>
<span class="nc" id="L173">        }</span>
           
<span class="nc" id="L175">    }</span>

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings(&quot;unchecked&quot;)
    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents
    private void initComponents() {

<span class="nc" id="L186">        Kd2 = new widget.TextBox();</span>
<span class="nc" id="L187">        Popup = new javax.swing.JPopupMenu();</span>
<span class="nc" id="L188">        ppBersihkan = new javax.swing.JMenuItem();</span>
<span class="nc" id="L189">        internalFrame1 = new widget.InternalFrame();</span>
<span class="nc" id="L190">        scrollPane1 = new widget.ScrollPane();</span>
<span class="nc" id="L191">        tbDokter = new widget.Table();</span>
<span class="nc" id="L192">        panelisi1 = new widget.panelisi();</span>
<span class="nc" id="L193">        BtnSimpan = new widget.Button();</span>
<span class="nc" id="L194">        label10 = new widget.Label();</span>
<span class="nc" id="L195">        TCari = new widget.TextBox();</span>
<span class="nc" id="L196">        BtnCari1 = new widget.Button();</span>
<span class="nc" id="L197">        label9 = new widget.Label();</span>
<span class="nc" id="L198">        LSubtotal = new widget.Label();</span>
<span class="nc" id="L199">        BtnCari = new widget.Button();</span>
<span class="nc" id="L200">        BtnKeluar = new widget.Button();</span>
<span class="nc" id="L201">        label12 = new widget.Label();</span>
<span class="nc" id="L202">        LPotongan = new widget.Label();</span>
<span class="nc" id="L203">        LTotal2 = new widget.Label();</span>
<span class="nc" id="L204">        label14 = new widget.Label();</span>
<span class="nc" id="L205">        label17 = new widget.Label();</span>
<span class="nc" id="L206">        LPpn = new widget.Label();</span>
<span class="nc" id="L207">        label19 = new widget.Label();</span>
<span class="nc" id="L208">        LTagiha = new widget.Label();</span>
<span class="nc" id="L209">        tppn = new widget.TextBox();</span>
<span class="nc" id="L210">        label21 = new widget.Label();</span>
<span class="nc" id="L211">        panelisi3 = new widget.panelisi();</span>
<span class="nc" id="L212">        label15 = new widget.Label();</span>
<span class="nc" id="L213">        NoFaktur = new widget.TextBox();</span>
<span class="nc" id="L214">        label11 = new widget.Label();</span>
<span class="nc" id="L215">        TglBeli = new widget.Tanggal();</span>
<span class="nc" id="L216">        label13 = new widget.Label();</span>
<span class="nc" id="L217">        kdsup = new widget.TextBox();</span>
<span class="nc" id="L218">        label16 = new widget.Label();</span>
<span class="nc" id="L219">        kdptg = new widget.TextBox();</span>
<span class="nc" id="L220">        nmsup = new widget.TextBox();</span>
<span class="nc" id="L221">        nmptg = new widget.TextBox();</span>
<span class="nc" id="L222">        BtnSpl = new widget.Button();</span>
<span class="nc" id="L223">        BtnPtg = new widget.Button();</span>
<span class="nc" id="L224">        label18 = new widget.Label();</span>
<span class="nc" id="L225">        SaldoKas = new widget.TextBox();</span>
<span class="nc" id="L226">        label20 = new widget.Label();</span>
<span class="nc" id="L227">        kdgudang = new widget.TextBox();</span>
<span class="nc" id="L228">        nmgudang = new widget.TextBox();</span>
<span class="nc" id="L229">        BtnGudang = new widget.Button();</span>

<span class="nc" id="L231">        Kd2.setFont(new java.awt.Font(&quot;Tahoma&quot;, 0, 12)); // NOI18N</span>
<span class="nc" id="L232">        Kd2.setName(&quot;Kd2&quot;); // NOI18N</span>
<span class="nc" id="L233">        Kd2.setPreferredSize(new java.awt.Dimension(207, 23));</span>

<span class="nc" id="L235">        Popup.setName(&quot;Popup&quot;); // NOI18N</span>

<span class="nc" id="L237">        ppBersihkan.setBackground(new java.awt.Color(255, 255, 255));</span>
<span class="nc" id="L238">        ppBersihkan.setFont(new java.awt.Font(&quot;Tahoma&quot;, 0, 12)); // NOI18N</span>
<span class="nc" id="L239">        ppBersihkan.setForeground(new java.awt.Color(102, 51, 0));</span>
<span class="nc" id="L240">        ppBersihkan.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/stop_f2.png&quot;))); // NOI18N</span>
<span class="nc" id="L241">        ppBersihkan.setText(&quot;Bersihkan Jumlah&quot;);</span>
<span class="nc" id="L242">        ppBersihkan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);</span>
<span class="nc" id="L243">        ppBersihkan.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);</span>
<span class="nc" id="L244">        ppBersihkan.setIconTextGap(8);</span>
<span class="nc" id="L245">        ppBersihkan.setName(&quot;ppBersihkan&quot;); // NOI18N</span>
<span class="nc" id="L246">        ppBersihkan.setPreferredSize(new java.awt.Dimension(200, 25));</span>
<span class="nc" id="L247">        ppBersihkan.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L249">                ppBersihkanActionPerformed(evt);</span>
<span class="nc" id="L250">            }</span>
        });
<span class="nc" id="L252">        Popup.add(ppBersihkan);</span>

<span class="nc" id="L254">        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);</span>
<span class="nc" id="L255">        setUndecorated(true);</span>
<span class="nc" id="L256">        setResizable(false);</span>

<span class="nc" id="L258">        internalFrame1.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(240, 245, 235)), &quot;::[ Transaksi Pembelian/Pengadaan Barang ]::&quot;, javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font(&quot;Tahoma&quot;, 0, 11), new java.awt.Color(50, 70, 40))); // NOI18N</span>
<span class="nc" id="L259">        internalFrame1.setName(&quot;internalFrame1&quot;); // NOI18N</span>
<span class="nc" id="L260">        internalFrame1.setLayout(new java.awt.BorderLayout(1, 1));</span>

<span class="nc" id="L262">        scrollPane1.setComponentPopupMenu(Popup);</span>
<span class="nc" id="L263">        scrollPane1.setName(&quot;scrollPane1&quot;); // NOI18N</span>
<span class="nc" id="L264">        scrollPane1.setOpaque(true);</span>

<span class="nc" id="L266">        tbDokter.setModel(new javax.swing.table.DefaultTableModel(</span>
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
<span class="nc" id="L277">        tbDokter.setToolTipText(&quot;Silahkan klik untuk memilih data yang mau diedit ataupun dihapus&quot;);</span>
<span class="nc" id="L278">        tbDokter.setName(&quot;tbDokter&quot;); // NOI18N</span>
<span class="nc" id="L279">        tbDokter.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mouseClicked(java.awt.event.MouseEvent evt) {
<span class="nc" id="L281">                tbDokterMouseClicked(evt);</span>
<span class="nc" id="L282">            }</span>
        });
<span class="nc" id="L284">        tbDokter.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L286">                tbDokterKeyPressed(evt);</span>
<span class="nc" id="L287">            }</span>
        });
<span class="nc" id="L289">        scrollPane1.setViewportView(tbDokter);</span>

<span class="nc" id="L291">        internalFrame1.add(scrollPane1, java.awt.BorderLayout.CENTER);</span>

<span class="nc" id="L293">        panelisi1.setName(&quot;panelisi1&quot;); // NOI18N</span>
<span class="nc" id="L294">        panelisi1.setPreferredSize(new java.awt.Dimension(100, 112));</span>
<span class="nc" id="L295">        panelisi1.setLayout(null);</span>

<span class="nc" id="L297">        BtnSimpan.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/save-16x16.png&quot;))); // NOI18N</span>
<span class="nc" id="L298">        BtnSimpan.setMnemonic('S');</span>
<span class="nc" id="L299">        BtnSimpan.setText(&quot;Simpan&quot;);</span>
<span class="nc" id="L300">        BtnSimpan.setToolTipText(&quot;Alt+S&quot;);</span>
<span class="nc" id="L301">        BtnSimpan.setName(&quot;BtnSimpan&quot;); // NOI18N</span>
<span class="nc" id="L302">        BtnSimpan.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L304">                BtnSimpanActionPerformed(evt);</span>
<span class="nc" id="L305">            }</span>
        });
<span class="nc" id="L307">        BtnSimpan.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L309">                BtnSimpanKeyPressed(evt);</span>
<span class="nc" id="L310">            }</span>
        });
<span class="nc" id="L312">        panelisi1.add(BtnSimpan);</span>
<span class="nc" id="L313">        BtnSimpan.setBounds(10, 62, 97, 30);</span>

<span class="nc" id="L315">        label10.setText(&quot;Key Word :&quot;);</span>
<span class="nc" id="L316">        label10.setName(&quot;label10&quot;); // NOI18N</span>
<span class="nc" id="L317">        label10.setPreferredSize(new java.awt.Dimension(75, 23));</span>
<span class="nc" id="L318">        panelisi1.add(label10);</span>
<span class="nc" id="L319">        label10.setBounds(110, 66, 75, 23);</span>

<span class="nc" id="L321">        TCari.setName(&quot;TCari&quot;); // NOI18N</span>
<span class="nc" id="L322">        TCari.setPreferredSize(new java.awt.Dimension(150, 23));</span>
<span class="nc" id="L323">        TCari.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L325">                TCariKeyPressed(evt);</span>
<span class="nc" id="L326">            }</span>
        });
<span class="nc" id="L328">        panelisi1.add(TCari);</span>
<span class="nc" id="L329">        TCari.setBounds(190, 66, 300, 23);</span>

<span class="nc" id="L331">        BtnCari1.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/accept.png&quot;))); // NOI18N</span>
<span class="nc" id="L332">        BtnCari1.setMnemonic('1');</span>
<span class="nc" id="L333">        BtnCari1.setToolTipText(&quot;Alt+1&quot;);</span>
<span class="nc" id="L334">        BtnCari1.setName(&quot;BtnCari1&quot;); // NOI18N</span>
<span class="nc" id="L335">        BtnCari1.setPreferredSize(new java.awt.Dimension(28, 23));</span>
<span class="nc" id="L336">        BtnCari1.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L338">                BtnCari1ActionPerformed(evt);</span>
<span class="nc" id="L339">            }</span>
        });
<span class="nc" id="L341">        BtnCari1.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L343">                BtnCari1KeyPressed(evt);</span>
<span class="nc" id="L344">            }</span>
        });
<span class="nc" id="L346">        panelisi1.add(BtnCari1);</span>
<span class="nc" id="L347">        BtnCari1.setBounds(492, 66, 28, 23);</span>

<span class="nc" id="L349">        label9.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);</span>
<span class="nc" id="L350">        label9.setText(&quot;Potongan :&quot;);</span>
<span class="nc" id="L351">        label9.setName(&quot;label9&quot;); // NOI18N</span>
<span class="nc" id="L352">        label9.setPreferredSize(new java.awt.Dimension(60, 30));</span>
<span class="nc" id="L353">        panelisi1.add(label9);</span>
<span class="nc" id="L354">        label9.setBounds(130, 0, 90, 30);</span>

<span class="nc" id="L356">        LSubtotal.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);</span>
<span class="nc" id="L357">        LSubtotal.setText(&quot;0&quot;);</span>
<span class="nc" id="L358">        LSubtotal.setName(&quot;LSubtotal&quot;); // NOI18N</span>
<span class="nc" id="L359">        LSubtotal.setPreferredSize(new java.awt.Dimension(110, 30));</span>
<span class="nc" id="L360">        panelisi1.add(LSubtotal);</span>
<span class="nc" id="L361">        LSubtotal.setBounds(10, 20, 120, 30);</span>

<span class="nc" id="L363">        BtnCari.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/Search-16x16.png&quot;))); // NOI18N</span>
<span class="nc" id="L364">        BtnCari.setMnemonic('E');</span>
<span class="nc" id="L365">        BtnCari.setText(&quot;Cari&quot;);</span>
<span class="nc" id="L366">        BtnCari.setToolTipText(&quot;Alt+E&quot;);</span>
<span class="nc" id="L367">        BtnCari.setName(&quot;BtnCari&quot;); // NOI18N</span>
<span class="nc" id="L368">        BtnCari.setPreferredSize(new java.awt.Dimension(100, 30));</span>
<span class="nc" id="L369">        BtnCari.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L371">                BtnCariActionPerformed(evt);</span>
<span class="nc" id="L372">            }</span>
        });
<span class="nc" id="L374">        BtnCari.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L376">                BtnCariKeyPressed(evt);</span>
<span class="nc" id="L377">            }</span>
        });
<span class="nc" id="L379">        panelisi1.add(BtnCari);</span>
<span class="nc" id="L380">        BtnCari.setBounds(560, 62, 100, 30);</span>

<span class="nc" id="L382">        BtnKeluar.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/exit.png&quot;))); // NOI18N</span>
<span class="nc" id="L383">        BtnKeluar.setMnemonic('K');</span>
<span class="nc" id="L384">        BtnKeluar.setText(&quot;Keluar&quot;);</span>
<span class="nc" id="L385">        BtnKeluar.setToolTipText(&quot;Alt+K&quot;);</span>
<span class="nc" id="L386">        BtnKeluar.setName(&quot;BtnKeluar&quot;); // NOI18N</span>
<span class="nc" id="L387">        BtnKeluar.setPreferredSize(new java.awt.Dimension(100, 30));</span>
<span class="nc" id="L388">        BtnKeluar.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L390">                BtnKeluarActionPerformed(evt);</span>
<span class="nc" id="L391">            }</span>
        });
<span class="nc" id="L393">        BtnKeluar.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L395">                BtnKeluarKeyPressed(evt);</span>
<span class="nc" id="L396">            }</span>
        });
<span class="nc" id="L398">        panelisi1.add(BtnKeluar);</span>
<span class="nc" id="L399">        BtnKeluar.setBounds(670, 62, 100, 30);</span>

<span class="nc" id="L401">        label12.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);</span>
<span class="nc" id="L402">        label12.setText(&quot;Total 1 :&quot;);</span>
<span class="nc" id="L403">        label12.setName(&quot;label12&quot;); // NOI18N</span>
<span class="nc" id="L404">        label12.setPreferredSize(new java.awt.Dimension(60, 30));</span>
<span class="nc" id="L405">        panelisi1.add(label12);</span>
<span class="nc" id="L406">        label12.setBounds(10, 0, 60, 30);</span>

<span class="nc" id="L408">        LPotongan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);</span>
<span class="nc" id="L409">        LPotongan.setText(&quot;0&quot;);</span>
<span class="nc" id="L410">        LPotongan.setName(&quot;LPotongan&quot;); // NOI18N</span>
<span class="nc" id="L411">        LPotongan.setPreferredSize(new java.awt.Dimension(110, 30));</span>
<span class="nc" id="L412">        panelisi1.add(LPotongan);</span>
<span class="nc" id="L413">        LPotongan.setBounds(130, 20, 120, 30);</span>

<span class="nc" id="L415">        LTotal2.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);</span>
<span class="nc" id="L416">        LTotal2.setText(&quot;0&quot;);</span>
<span class="nc" id="L417">        LTotal2.setName(&quot;LTotal2&quot;); // NOI18N</span>
<span class="nc" id="L418">        LTotal2.setPreferredSize(new java.awt.Dimension(110, 30));</span>
<span class="nc" id="L419">        panelisi1.add(LTotal2);</span>
<span class="nc" id="L420">        LTotal2.setBounds(250, 20, 120, 30);</span>

<span class="nc" id="L422">        label14.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);</span>
<span class="nc" id="L423">        label14.setText(&quot;Total 2 :&quot;);</span>
<span class="nc" id="L424">        label14.setName(&quot;label14&quot;); // NOI18N</span>
<span class="nc" id="L425">        label14.setPreferredSize(new java.awt.Dimension(60, 30));</span>
<span class="nc" id="L426">        panelisi1.add(label14);</span>
<span class="nc" id="L427">        label14.setBounds(250, 0, 90, 30);</span>

<span class="nc" id="L429">        label17.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);</span>
<span class="nc" id="L430">        label17.setText(&quot;PPN :&quot;);</span>
<span class="nc" id="L431">        label17.setName(&quot;label17&quot;); // NOI18N</span>
<span class="nc" id="L432">        label17.setPreferredSize(new java.awt.Dimension(60, 30));</span>
<span class="nc" id="L433">        panelisi1.add(label17);</span>
<span class="nc" id="L434">        label17.setBounds(370, 0, 90, 30);</span>

<span class="nc" id="L436">        LPpn.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);</span>
<span class="nc" id="L437">        LPpn.setText(&quot;0&quot;);</span>
<span class="nc" id="L438">        LPpn.setName(&quot;LPpn&quot;); // NOI18N</span>
<span class="nc" id="L439">        LPpn.setPreferredSize(new java.awt.Dimension(110, 30));</span>
<span class="nc" id="L440">        panelisi1.add(LPpn);</span>
<span class="nc" id="L441">        LPpn.setBounds(470, 20, 120, 30);</span>

<span class="nc" id="L443">        label19.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);</span>
<span class="nc" id="L444">        label19.setText(&quot;Jumlah Tagihan :&quot;);</span>
<span class="nc" id="L445">        label19.setName(&quot;label19&quot;); // NOI18N</span>
<span class="nc" id="L446">        label19.setPreferredSize(new java.awt.Dimension(60, 30));</span>
<span class="nc" id="L447">        panelisi1.add(label19);</span>
<span class="nc" id="L448">        label19.setBounds(590, 0, 130, 30);</span>

<span class="nc" id="L450">        LTagiha.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);</span>
<span class="nc" id="L451">        LTagiha.setText(&quot;0&quot;);</span>
<span class="nc" id="L452">        LTagiha.setName(&quot;LTagiha&quot;); // NOI18N</span>
<span class="nc" id="L453">        LTagiha.setPreferredSize(new java.awt.Dimension(110, 30));</span>
<span class="nc" id="L454">        panelisi1.add(LTagiha);</span>
<span class="nc" id="L455">        LTagiha.setBounds(590, 20, 120, 30);</span>

<span class="nc" id="L457">        tppn.setName(&quot;tppn&quot;); // NOI18N</span>
<span class="nc" id="L458">        tppn.setPreferredSize(new java.awt.Dimension(80, 23));</span>
<span class="nc" id="L459">        tppn.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L461">                tppnKeyPressed(evt);</span>
<span class="nc" id="L462">            }</span>
        });
<span class="nc" id="L464">        panelisi1.add(tppn);</span>
<span class="nc" id="L465">        tppn.setBounds(370, 26, 60, 23);</span>

<span class="nc" id="L467">        label21.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);</span>
<span class="nc" id="L468">        label21.setText(&quot;%&quot;);</span>
<span class="nc" id="L469">        label21.setName(&quot;label21&quot;); // NOI18N</span>
<span class="nc" id="L470">        label21.setPreferredSize(new java.awt.Dimension(70, 23));</span>
<span class="nc" id="L471">        panelisi1.add(label21);</span>
<span class="nc" id="L472">        label21.setBounds(433, 26, 40, 23);</span>

<span class="nc" id="L474">        internalFrame1.add(panelisi1, java.awt.BorderLayout.PAGE_END);</span>

<span class="nc" id="L476">        panelisi3.setName(&quot;panelisi3&quot;); // NOI18N</span>
<span class="nc" id="L477">        panelisi3.setPreferredSize(new java.awt.Dimension(100, 103));</span>
<span class="nc" id="L478">        panelisi3.setLayout(null);</span>

<span class="nc" id="L480">        label15.setText(&quot;No.Faktur :&quot;);</span>
<span class="nc" id="L481">        label15.setName(&quot;label15&quot;); // NOI18N</span>
<span class="nc" id="L482">        label15.setPreferredSize(new java.awt.Dimension(60, 23));</span>
<span class="nc" id="L483">        panelisi3.add(label15);</span>
<span class="nc" id="L484">        label15.setBounds(0, 10, 75, 23);</span>

<span class="nc" id="L486">        NoFaktur.setName(&quot;NoFaktur&quot;); // NOI18N</span>
<span class="nc" id="L487">        NoFaktur.setPreferredSize(new java.awt.Dimension(207, 23));</span>
<span class="nc" id="L488">        NoFaktur.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L490">                NoFakturKeyPressed(evt);</span>
<span class="nc" id="L491">            }</span>
        });
<span class="nc" id="L493">        panelisi3.add(NoFaktur);</span>
<span class="nc" id="L494">        NoFaktur.setBounds(79, 10, 110, 23);</span>

<span class="nc" id="L496">        label11.setText(&quot;Tgl.Beli :&quot;);</span>
<span class="nc" id="L497">        label11.setName(&quot;label11&quot;); // NOI18N</span>
<span class="nc" id="L498">        label11.setPreferredSize(new java.awt.Dimension(70, 23));</span>
<span class="nc" id="L499">        panelisi3.add(label11);</span>
<span class="nc" id="L500">        label11.setBounds(0, 70, 75, 23);</span>

<span class="nc" id="L502">        TglBeli.setEditable(false);</span>
<span class="nc" id="L503">        TglBeli.setDisplayFormat(&quot;yyyy-MM-dd&quot;);</span>
<span class="nc" id="L504">        TglBeli.setName(&quot;TglBeli&quot;); // NOI18N</span>
<span class="nc" id="L505">        TglBeli.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L507">                TglBeliKeyPressed(evt);</span>
<span class="nc" id="L508">            }</span>
        });
<span class="nc" id="L510">        panelisi3.add(TglBeli);</span>
<span class="nc" id="L511">        TglBeli.setBounds(79, 70, 110, 23);</span>

<span class="nc" id="L513">        label13.setText(&quot;Petugas :&quot;);</span>
<span class="nc" id="L514">        label13.setName(&quot;label13&quot;); // NOI18N</span>
<span class="nc" id="L515">        label13.setPreferredSize(new java.awt.Dimension(70, 23));</span>
<span class="nc" id="L516">        panelisi3.add(label13);</span>
<span class="nc" id="L517">        label13.setBounds(305, 40, 100, 23);</span>

<span class="nc" id="L519">        kdsup.setName(&quot;kdsup&quot;); // NOI18N</span>
<span class="nc" id="L520">        kdsup.setPreferredSize(new java.awt.Dimension(80, 23));</span>
<span class="nc" id="L521">        kdsup.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L523">                kdsupKeyPressed(evt);</span>
<span class="nc" id="L524">            }</span>
        });
<span class="nc" id="L526">        panelisi3.add(kdsup);</span>
<span class="nc" id="L527">        kdsup.setBounds(409, 10, 80, 23);</span>

<span class="nc" id="L529">        label16.setText(&quot;Supplier :&quot;);</span>
<span class="nc" id="L530">        label16.setName(&quot;label16&quot;); // NOI18N</span>
<span class="nc" id="L531">        label16.setPreferredSize(new java.awt.Dimension(60, 23));</span>
<span class="nc" id="L532">        panelisi3.add(label16);</span>
<span class="nc" id="L533">        label16.setBounds(305, 10, 100, 23);</span>

<span class="nc" id="L535">        kdptg.setName(&quot;kdptg&quot;); // NOI18N</span>
<span class="nc" id="L536">        kdptg.setPreferredSize(new java.awt.Dimension(80, 23));</span>
<span class="nc" id="L537">        kdptg.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L539">                kdptgKeyPressed(evt);</span>
<span class="nc" id="L540">            }</span>
        });
<span class="nc" id="L542">        panelisi3.add(kdptg);</span>
<span class="nc" id="L543">        kdptg.setBounds(409, 40, 80, 23);</span>

<span class="nc" id="L545">        nmsup.setEditable(false);</span>
<span class="nc" id="L546">        nmsup.setName(&quot;nmsup&quot;); // NOI18N</span>
<span class="nc" id="L547">        nmsup.setPreferredSize(new java.awt.Dimension(207, 23));</span>
<span class="nc" id="L548">        panelisi3.add(nmsup);</span>
<span class="nc" id="L549">        nmsup.setBounds(491, 10, 240, 23);</span>

<span class="nc" id="L551">        nmptg.setEditable(false);</span>
<span class="nc" id="L552">        nmptg.setName(&quot;nmptg&quot;); // NOI18N</span>
<span class="nc" id="L553">        nmptg.setPreferredSize(new java.awt.Dimension(207, 23));</span>
<span class="nc" id="L554">        panelisi3.add(nmptg);</span>
<span class="nc" id="L555">        nmptg.setBounds(491, 40, 240, 23);</span>

<span class="nc" id="L557">        BtnSpl.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/190.png&quot;))); // NOI18N</span>
<span class="nc" id="L558">        BtnSpl.setMnemonic('1');</span>
<span class="nc" id="L559">        BtnSpl.setToolTipText(&quot;Alt+1&quot;);</span>
<span class="nc" id="L560">        BtnSpl.setName(&quot;BtnSpl&quot;); // NOI18N</span>
<span class="nc" id="L561">        BtnSpl.setPreferredSize(new java.awt.Dimension(28, 23));</span>
<span class="nc" id="L562">        BtnSpl.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L564">                BtnSplActionPerformed(evt);</span>
<span class="nc" id="L565">            }</span>
        });
<span class="nc" id="L567">        panelisi3.add(BtnSpl);</span>
<span class="nc" id="L568">        BtnSpl.setBounds(734, 10, 28, 23);</span>

<span class="nc" id="L570">        BtnPtg.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/190.png&quot;))); // NOI18N</span>
<span class="nc" id="L571">        BtnPtg.setMnemonic('2');</span>
<span class="nc" id="L572">        BtnPtg.setToolTipText(&quot;Alt+2&quot;);</span>
<span class="nc" id="L573">        BtnPtg.setName(&quot;BtnPtg&quot;); // NOI18N</span>
<span class="nc" id="L574">        BtnPtg.setPreferredSize(new java.awt.Dimension(28, 23));</span>
<span class="nc" id="L575">        BtnPtg.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L577">                BtnPtgActionPerformed(evt);</span>
<span class="nc" id="L578">            }</span>
        });
<span class="nc" id="L580">        panelisi3.add(BtnPtg);</span>
<span class="nc" id="L581">        BtnPtg.setBounds(734, 40, 28, 23);</span>

<span class="nc" id="L583">        label18.setText(&quot;Saldo Kas :&quot;);</span>
<span class="nc" id="L584">        label18.setName(&quot;label18&quot;); // NOI18N</span>
<span class="nc" id="L585">        label18.setPreferredSize(new java.awt.Dimension(60, 23));</span>
<span class="nc" id="L586">        panelisi3.add(label18);</span>
<span class="nc" id="L587">        label18.setBounds(0, 40, 75, 23);</span>

<span class="nc" id="L589">        SaldoKas.setEditable(false);</span>
<span class="nc" id="L590">        SaldoKas.setName(&quot;SaldoKas&quot;); // NOI18N</span>
<span class="nc" id="L591">        SaldoKas.setPreferredSize(new java.awt.Dimension(207, 23));</span>
<span class="nc" id="L592">        SaldoKas.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L594">                SaldoKasKeyPressed(evt);</span>
<span class="nc" id="L595">            }</span>
        });
<span class="nc" id="L597">        panelisi3.add(SaldoKas);</span>
<span class="nc" id="L598">        SaldoKas.setBounds(79, 40, 110, 23);</span>

<span class="nc" id="L600">        label20.setText(&quot;Lokasi :&quot;);</span>
<span class="nc" id="L601">        label20.setName(&quot;label20&quot;); // NOI18N</span>
<span class="nc" id="L602">        label20.setPreferredSize(new java.awt.Dimension(70, 23));</span>
<span class="nc" id="L603">        panelisi3.add(label20);</span>
<span class="nc" id="L604">        label20.setBounds(305, 70, 100, 23);</span>

<span class="nc" id="L606">        kdgudang.setName(&quot;kdgudang&quot;); // NOI18N</span>
<span class="nc" id="L607">        kdgudang.setPreferredSize(new java.awt.Dimension(80, 23));</span>
<span class="nc" id="L608">        kdgudang.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L610">                kdgudangKeyPressed(evt);</span>
<span class="nc" id="L611">            }</span>
        });
<span class="nc" id="L613">        panelisi3.add(kdgudang);</span>
<span class="nc" id="L614">        kdgudang.setBounds(409, 70, 80, 23);</span>

<span class="nc" id="L616">        nmgudang.setEditable(false);</span>
<span class="nc" id="L617">        nmgudang.setName(&quot;nmgudang&quot;); // NOI18N</span>
<span class="nc" id="L618">        nmgudang.setPreferredSize(new java.awt.Dimension(207, 23));</span>
<span class="nc" id="L619">        panelisi3.add(nmgudang);</span>
<span class="nc" id="L620">        nmgudang.setBounds(491, 70, 240, 23);</span>

<span class="nc" id="L622">        BtnGudang.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/190.png&quot;))); // NOI18N</span>
<span class="nc" id="L623">        BtnGudang.setMnemonic('2');</span>
<span class="nc" id="L624">        BtnGudang.setToolTipText(&quot;Alt+2&quot;);</span>
<span class="nc" id="L625">        BtnGudang.setName(&quot;BtnGudang&quot;); // NOI18N</span>
<span class="nc" id="L626">        BtnGudang.setPreferredSize(new java.awt.Dimension(28, 23));</span>
<span class="nc" id="L627">        BtnGudang.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L629">                BtnGudangActionPerformed(evt);</span>
<span class="nc" id="L630">            }</span>
        });
<span class="nc" id="L632">        panelisi3.add(BtnGudang);</span>
<span class="nc" id="L633">        BtnGudang.setBounds(734, 70, 28, 23);</span>

<span class="nc" id="L635">        internalFrame1.add(panelisi3, java.awt.BorderLayout.PAGE_START);</span>

<span class="nc" id="L637">        getContentPane().add(internalFrame1, java.awt.BorderLayout.CENTER);</span>

<span class="nc" id="L639">        pack();</span>
<span class="nc" id="L640">    }// &lt;/editor-fold&gt;//GEN-END:initComponents</span>

    private void BtnCariActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnCariActionPerformed
<span class="nc" id="L643">        this.setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));</span>
<span class="nc" id="L644">        form.emptTeks();        </span>
<span class="nc" id="L645">        form.tampil();</span>
<span class="nc" id="L646">        form.setSize(internalFrame1.getWidth()-40,internalFrame1.getHeight()-40);</span>
<span class="nc" id="L647">        form.setLocationRelativeTo(internalFrame1);</span>
<span class="nc" id="L648">        form.setAlwaysOnTop(false);</span>
<span class="nc" id="L649">        form.setVisible(true);</span>
<span class="nc" id="L650">        this.setCursor(Cursor.getDefaultCursor());</span>
<span class="nc" id="L651">}//GEN-LAST:event_BtnCariActionPerformed</span>

    private void BtnKeluarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnKeluarActionPerformed
<span class="nc" id="L654">            dispose();  </span>
<span class="nc" id="L655">}//GEN-LAST:event_BtnKeluarActionPerformed</span>

    private void BtnKeluarKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_BtnKeluarKeyPressed
<span class="nc bnc" id="L658" title="All 2 branches missed.">        if(evt.getKeyCode()==KeyEvent.VK_SPACE){            </span>
<span class="nc" id="L659">            dispose();              </span>
<span class="nc" id="L660">        }else{Valid.pindah(evt,BtnSimpan,TCari);}</span>
<span class="nc" id="L661">}//GEN-LAST:event_BtnKeluarKeyPressed</span>
/*
private void KdKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TKdKeyPressed
    Valid.pindah(evt,BtnCari,Nm);
}//GEN-LAST:event_TKdKeyPressed
*/

    private void BtnSimpanActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnSimpanActionPerformed
<span class="nc bnc" id="L669" title="All 2 branches missed.">        if(NoFaktur.getText().trim().equals(&quot;&quot;)){</span>
<span class="nc" id="L670">            Valid.textKosong(NoFaktur,&quot;No.Faktur&quot;);</span>
<span class="nc bnc" id="L671" title="All 2 branches missed.">        }else if(nmsup.getText().trim().equals(&quot;&quot;)){</span>
<span class="nc" id="L672">            Valid.textKosong(kdsup,&quot;Supplier&quot;);</span>
<span class="nc bnc" id="L673" title="All 2 branches missed.">        }else if(nmptg.getText().trim().equals(&quot;&quot;)){</span>
<span class="nc" id="L674">            Valid.textKosong(kdptg,&quot;Petugas&quot;);</span>
<span class="nc bnc" id="L675" title="All 2 branches missed.">        }else if(nmgudang.getText().trim().equals(&quot;&quot;)){</span>
<span class="nc" id="L676">            Valid.textKosong(kdgudang,&quot;Lokasi&quot;);</span>
<span class="nc bnc" id="L677" title="All 2 branches missed.">        }else if(tabMode.getRowCount()==0){</span>
<span class="nc" id="L678">            JOptionPane.showMessageDialog(null,&quot;Maaf, data sudah habis...!!!!&quot;);</span>
<span class="nc" id="L679">            TCari.requestFocus();</span>
<span class="nc bnc" id="L680" title="All 2 branches missed.">        }else if(ttl&lt;=0){</span>
<span class="nc" id="L681">            JOptionPane.showMessageDialog(null,&quot;Maaf, Silahkan masukkan pembelian...!!!!&quot;);</span>
<span class="nc" id="L682">            tbDokter.requestFocus();</span>
        }else{
<span class="nc" id="L684">            int reply = JOptionPane.showConfirmDialog(rootPane,&quot;Eeiiiiiits, udah bener belum data yang mau disimpan..??&quot;,&quot;Konfirmasi&quot;,JOptionPane.YES_NO_OPTION);</span>
<span class="nc bnc" id="L685" title="All 2 branches missed.">            if (reply == JOptionPane.YES_OPTION) {</span>
                try {
<span class="nc" id="L687">                    koneksiDB.condb().createStatement().execute(</span>
<span class="nc" id="L688">                        &quot;insert into pembelian values('&quot;+NoFaktur.getText()+&quot;','&quot;+kdsup.getText()+&quot;','&quot;+kdptg.getText()+&quot;','&quot;+TglBeli.getSelectedItem()+</span>
<span class="nc" id="L689">                            &quot;','&quot;+sbttl+&quot;','&quot;+ttldisk+&quot;','&quot;+ttl+&quot;','&quot;+ppn+&quot;','&quot;+(ttl+ppn)+&quot;','&quot;+kdgudang.getText()+&quot;')&quot;);</span>
<span class="nc" id="L690">                    jml=tabMode.getRowCount();</span>
<span class="nc bnc" id="L691" title="All 2 branches missed.">                    for(i=0;i&lt;jml;i++){  </span>
<span class="nc bnc" id="L692" title="All 2 branches missed.">                         if(Valid.SetAngka(tabMode.getValueAt(i,0).toString())&gt;0){</span>
<span class="nc" id="L693">                                Sequel.menyimpan(&quot;detailbeli&quot;,&quot;'&quot;+NoFaktur.getText()+&quot;','&quot;+</span>
<span class="nc" id="L694">                                        tabMode.getValueAt(i,1).toString()+&quot;','&quot;+</span>
<span class="nc" id="L695">                                        tabMode.getValueAt(i,3).toString()+&quot;','&quot;+</span>
<span class="nc" id="L696">                                        tabMode.getValueAt(i,0).toString()+&quot;','&quot;+</span>
<span class="nc" id="L697">                                        tabMode.getValueAt(i,4).toString()+&quot;','&quot;+</span>
<span class="nc" id="L698">                                        tabMode.getValueAt(i,5).toString()+&quot;','&quot;+</span>
<span class="nc" id="L699">                                        tabMode.getValueAt(i,6).toString()+&quot;','&quot;+</span>
<span class="nc" id="L700">                                        tabMode.getValueAt(i,7).toString()+&quot;','&quot;+</span>
<span class="nc" id="L701">                                        tabMode.getValueAt(i,8).toString()+&quot;'&quot;,&quot;Transaksi Pembelian&quot;); </span>
<span class="nc" id="L702">                                Sequel.menyimpan(&quot;gudangbarang&quot;,&quot;'&quot;+tabMode.getValueAt(i,1).toString()+&quot;','&quot;+kdgudang.getText()+&quot;','&quot;+tabMode.getValueAt(i,0).toString()+&quot;'&quot;, </span>
<span class="nc" id="L703">                                        &quot;stok=stok+'&quot;+tabMode.getValueAt(i,0).toString()+&quot;'&quot;,&quot;kode_brng='&quot;+tabMode.getValueAt(i,1).toString()+&quot;' and kd_bangsal='&quot;+kdgudang.getText()+&quot;'&quot;);</span>
                         }                
                    } 
<span class="nc" id="L706">                    ResultSet rs2=koneksiDB.condb().createStatement().executeQuery(&quot;select * from rekening where kd_rek='51000'&quot;);</span>
<span class="nc bnc" id="L707" title="All 2 branches missed.">                    if(!rs2.next()){</span>
<span class="nc" id="L708">                        koneksiDB.condb().createStatement().execute(&quot;insert into rekening values('51000','PEMBELIAN','R','D')&quot;);</span>
                    }
                    
<span class="nc" id="L711">                    ResultSet rs3=koneksiDB.condb().createStatement().executeQuery(&quot;select * from rekening where kd_rek='11120'&quot;);</span>
<span class="nc bnc" id="L712" title="All 2 branches missed.">                    if(!rs3.next()){</span>
<span class="nc" id="L713">                        koneksiDB.condb().createStatement().execute(&quot;insert into rekening values('11120','KAS DI TANGAN','N','D')&quot;);</span>
                    }
                    
<span class="nc" id="L716">                    ResultSet rs4=koneksiDB.condb().createStatement().executeQuery(&quot;select * from rekeningtahun where thn='&quot;+TglBeli.getSelectedItem().toString().substring(0,4) +&quot;' and kd_rek='51000'&quot;);</span>
<span class="nc bnc" id="L717" title="All 2 branches missed.">                    if(!rs4.next()){</span>
<span class="nc" id="L718">                        koneksiDB.condb().createStatement().execute(&quot;insert into rekeningtahun values('&quot;+TglBeli.getSelectedItem().toString().substring(0,4) +&quot;','51000','0')&quot;);</span>
                    }
                    
<span class="nc" id="L721">                    ResultSet rs5=koneksiDB.condb().createStatement().executeQuery(&quot;select * from rekeningtahun where thn='&quot;+TglBeli.getSelectedItem().toString().substring(0,4) +&quot;' and kd_rek='11120'&quot;);</span>
<span class="nc bnc" id="L722" title="All 2 branches missed.">                    if(!rs5.next()){</span>
<span class="nc" id="L723">                        koneksiDB.condb().createStatement().execute(&quot;insert into rekeningtahun values('&quot;+TglBeli.getSelectedItem().toString().substring(0,4) +&quot;','11120','0')&quot;);</span>
                    }
<span class="nc" id="L725">                    Sequel.queryu(&quot;delete from tampjurnal&quot;);</span>
                    
<span class="nc" id="L727">                    Sequel.menyimpan(&quot;tampjurnal&quot;,&quot;'51000','PEMBELIAN','&quot;+(ttl+ppn)+&quot;','0'&quot;,&quot;Rekening&quot;);    </span>
<span class="nc" id="L728">                    Sequel.menyimpan(&quot;tampjurnal&quot;,&quot;'11120','KAS DI TANGAN','0','&quot;+(ttl+ppn)+&quot;'&quot;,&quot;Rekening&quot;); </span>
<span class="nc" id="L729">                    jur.simpanJurnal(NoFaktur.getText(),TglBeli.getSelectedItem().toString(),&quot;U&quot;,&quot;PEMBELIAN DI &quot;+nmgudang.getText().toUpperCase());</span>
                    
<span class="nc" id="L731">                } catch (SQLException ex) {</span>
<span class="nc" id="L732">                    System.out.println(ex);</span>
<span class="nc" id="L733">                    int konfirm = JOptionPane.showConfirmDialog(rootPane,&quot;No.Nota sudah ada sebelumnya,\napa data mau ditambahkan ke pembelian di No.Nota tersebut..??&quot;,&quot;Konfirmasi&quot;,JOptionPane.YES_NO_OPTION);</span>
<span class="nc bnc" id="L734" title="All 2 branches missed.">                    if (konfirm == JOptionPane.YES_OPTION) {</span>
                        try {
<span class="nc" id="L736">                            jml=tabMode.getRowCount();</span>
<span class="nc bnc" id="L737" title="All 2 branches missed.">                            for(i=0;i&lt;jml;i++){  </span>
<span class="nc bnc" id="L738" title="All 2 branches missed.">                                 if(Valid.SetAngka(tabMode.getValueAt(i,0).toString())&gt;0){</span>
<span class="nc" id="L739">                                        Sequel.menyimpan(&quot;detailbeli&quot;,&quot;'&quot;+NoFaktur.getText()+&quot;','&quot;+</span>
<span class="nc" id="L740">                                                tabMode.getValueAt(i,1).toString()+&quot;','&quot;+</span>
<span class="nc" id="L741">                                                tabMode.getValueAt(i,3).toString()+&quot;','&quot;+</span>
<span class="nc" id="L742">                                                tabMode.getValueAt(i,0).toString()+&quot;','&quot;+</span>
<span class="nc" id="L743">                                                tabMode.getValueAt(i,4).toString()+&quot;','&quot;+</span>
<span class="nc" id="L744">                                                tabMode.getValueAt(i,5).toString()+&quot;','&quot;+</span>
<span class="nc" id="L745">                                                tabMode.getValueAt(i,6).toString()+&quot;','&quot;+</span>
<span class="nc" id="L746">                                                tabMode.getValueAt(i,7).toString()+&quot;','&quot;+</span>
<span class="nc" id="L747">                                                tabMode.getValueAt(i,8).toString()+&quot;'&quot;,&quot;Transaksi Pembelian&quot;); </span>
<span class="nc" id="L748">                                        Sequel.menyimpan(&quot;gudangbarang&quot;,&quot;'&quot;+tabMode.getValueAt(i,1).toString()+&quot;','&quot;+kdgudang.getText()+&quot;','&quot;+tabMode.getValueAt(i,0).toString()+&quot;'&quot;, </span>
<span class="nc" id="L749">                                                &quot;stok=stok+'&quot;+tabMode.getValueAt(i,0).toString()+&quot;'&quot;,&quot;kode_brng='&quot;+tabMode.getValueAt(i,1).toString()+&quot;' and kd_bangsal='&quot;+kdgudang.getText()+&quot;'&quot;);</span>
                                 }                
                            } 
<span class="nc" id="L752">                            ResultSet rs2=koneksiDB.condb().createStatement().executeQuery(&quot;select * from rekening where kd_rek='51000'&quot;);</span>
<span class="nc bnc" id="L753" title="All 2 branches missed.">                            if(!rs2.next()){</span>
<span class="nc" id="L754">                                koneksiDB.condb().createStatement().execute(&quot;insert into rekening values('51000','PEMBELIAN','R','D')&quot;);</span>
                            }

<span class="nc" id="L757">                            ResultSet rs3=koneksiDB.condb().createStatement().executeQuery(&quot;select * from rekening where kd_rek='11120'&quot;);</span>
<span class="nc bnc" id="L758" title="All 2 branches missed.">                            if(!rs3.next()){</span>
<span class="nc" id="L759">                                koneksiDB.condb().createStatement().execute(&quot;insert into rekening values('11120','KAS DI TANGAN','N','D')&quot;);</span>
                            }

<span class="nc" id="L762">                            ResultSet rs4=koneksiDB.condb().createStatement().executeQuery(&quot;select * from rekeningtahun where thn='&quot;+TglBeli.getSelectedItem().toString().substring(0,4) +&quot;' and kd_rek='51000'&quot;);</span>
<span class="nc bnc" id="L763" title="All 2 branches missed.">                            if(!rs4.next()){</span>
<span class="nc" id="L764">                                koneksiDB.condb().createStatement().execute(&quot;insert into rekeningtahun values('&quot;+TglBeli.getSelectedItem().toString().substring(0,4) +&quot;','51000','0')&quot;);</span>
                            }

<span class="nc" id="L767">                            ResultSet rs5=koneksiDB.condb().createStatement().executeQuery(&quot;select * from rekeningtahun where thn='&quot;+TglBeli.getSelectedItem().toString().substring(0,4) +&quot;' and kd_rek='11120'&quot;);</span>
<span class="nc bnc" id="L768" title="All 2 branches missed.">                            if(!rs5.next()){</span>
<span class="nc" id="L769">                                koneksiDB.condb().createStatement().execute(&quot;insert into rekeningtahun values('&quot;+TglBeli.getSelectedItem().toString().substring(0,4) +&quot;','11120','0')&quot;);</span>
                            }
                            
<span class="nc" id="L772">                            Sequel.queryu(&quot;delete from tampjurnal&quot;);</span>
<span class="nc" id="L773">                            Sequel.menyimpan(&quot;tampjurnal&quot;,&quot;'51000','PEMBELIAN','&quot;+(ttl+ppn)+&quot;','0'&quot;,&quot;Rekening&quot;);    </span>
<span class="nc" id="L774">                            Sequel.menyimpan(&quot;tampjurnal&quot;,&quot;'11120','KAS DI TANGAN','0','&quot;+(ttl+ppn)+&quot;'&quot;,&quot;Rekening&quot;); </span>
<span class="nc" id="L775">                            jur.simpanJurnal(NoFaktur.getText(),TglBeli.getSelectedItem().toString(),&quot;U&quot;,&quot;PEMBELIAN DI &quot;+nmgudang.getText().toUpperCase());</span>
<span class="nc" id="L776">                        } catch (SQLException ex1) {</span>
<span class="nc" id="L777">                            System.out.println(ex1);</span>
<span class="nc" id="L778">                        }</span>
                    }
<span class="nc" id="L780">                }                </span>
<span class="nc" id="L781">                jml=tabMode.getRowCount();</span>
<span class="nc bnc" id="L782" title="All 2 branches missed.">                for(i=0;i&lt;jml;i++){ </span>
<span class="nc" id="L783">                    tabMode.setValueAt(&quot;&quot;,i,0);</span>
<span class="nc" id="L784">                    tabMode.setValueAt(&quot;0&quot;,i,5);</span>
<span class="nc" id="L785">                    tabMode.setValueAt(&quot;0&quot;,i,6);</span>
<span class="nc" id="L786">                    tabMode.setValueAt(&quot;0&quot;,i,7);</span>
<span class="nc" id="L787">                    tabMode.setValueAt(&quot;0&quot;,i,8);</span>
                }
<span class="nc" id="L789">                getData();</span>
        
<span class="nc" id="L791">                Valid.autoNomer3(&quot;select ifnull(MAX(CONVERT(RIGHT(no_faktur,6),signed)),0) from pembelian &quot;,&quot;PB&quot;,6,NoFaktur); </span>
            }
        }        
<span class="nc" id="L794">    }//GEN-LAST:event_BtnSimpanActionPerformed</span>

    private void BtnSimpanKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_BtnSimpanKeyPressed
<span class="nc bnc" id="L797" title="All 2 branches missed.">        if(evt.getKeyCode()==KeyEvent.VK_SPACE){</span>
<span class="nc" id="L798">            BtnSimpanActionPerformed(null);</span>
        }else{
<span class="nc" id="L800">            Valid.pindah(evt,BtnKeluar,TCari);</span>
        }
<span class="nc" id="L802">    }//GEN-LAST:event_BtnSimpanKeyPressed</span>

    private void BtnCariKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_BtnCariKeyPressed
<span class="nc bnc" id="L805" title="All 2 branches missed.">        if(evt.getKeyCode()==KeyEvent.VK_SPACE){</span>
<span class="nc" id="L806">            BtnCariActionPerformed(null);</span>
        }else{
<span class="nc" id="L808">            Valid.pindah(evt, BtnSimpan,BtnKeluar);</span>
        }
<span class="nc" id="L810">    }//GEN-LAST:event_BtnCariKeyPressed</span>

private void TCariKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TCariKeyPressed
<span class="nc bnc" id="L813" title="All 2 branches missed.">        if(evt.getKeyCode()==KeyEvent.VK_ENTER){</span>
<span class="nc" id="L814">            tampil();</span>
<span class="nc bnc" id="L815" title="All 2 branches missed.">        }else if(evt.getKeyCode()==KeyEvent.VK_PAGE_DOWN){</span>
<span class="nc" id="L816">            BtnCari1.requestFocus();</span>
<span class="nc bnc" id="L817" title="All 2 branches missed.">        }else if(evt.getKeyCode()==KeyEvent.VK_PAGE_UP){</span>
<span class="nc" id="L818">            BtnKeluar.requestFocus();</span>
<span class="nc bnc" id="L819" title="All 2 branches missed.">        }else if(evt.getKeyCode()==KeyEvent.VK_UP){</span>
<span class="nc" id="L820">            tbDokter.requestFocus();</span>
        }
<span class="nc" id="L822">}//GEN-LAST:event_TCariKeyPressed</span>

private void BtnCari1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnCari1ActionPerformed
<span class="nc" id="L825">        tampil();</span>
<span class="nc" id="L826">}//GEN-LAST:event_BtnCari1ActionPerformed</span>

private void BtnCari1KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_BtnCari1KeyPressed
<span class="nc bnc" id="L829" title="All 2 branches missed.">        if(evt.getKeyCode()==KeyEvent.VK_SPACE){</span>
<span class="nc" id="L830">            tampil();</span>
        }else{
<span class="nc" id="L832">            Valid.pindah(evt, BtnSimpan, BtnKeluar);</span>
        }
<span class="nc" id="L834">}//GEN-LAST:event_BtnCari1KeyPressed</span>

private void ppBersihkanActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ppBersihkanActionPerformed
<span class="nc" id="L837">            int row2=tabMode.getRowCount();</span>
<span class="nc bnc" id="L838" title="All 2 branches missed.">            for(int r=0;r&lt;row2;r++){ </span>
<span class="nc" id="L839">                tabMode.setValueAt(&quot;&quot;,r,0);</span>
            }
<span class="nc" id="L841">}//GEN-LAST:event_ppBersihkanActionPerformed</span>

private void tbDokterMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tbDokterMouseClicked
<span class="nc bnc" id="L844" title="All 2 branches missed.">        if(tabMode.getRowCount()!=0){</span>
            try {
<span class="nc" id="L846">                int row=tbDokter.getSelectedColumn();</span>
<span class="nc bnc" id="L847" title="All 6 branches missed.">                if((row==1)||(row==4)||(row==6)){                        </span>
<span class="nc" id="L848">                    getData();</span>
                }
<span class="nc" id="L850">            } catch (java.lang.NullPointerException e) {</span>
<span class="nc" id="L851">            }</span>
        }
<span class="nc" id="L853">}//GEN-LAST:event_tbDokterMouseClicked</span>

private void tbDokterKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tbDokterKeyPressed
<span class="nc bnc" id="L856" title="All 2 branches missed.">        if(tabMode.getRowCount()!=0){</span>
<span class="nc bnc" id="L857" title="All 6 branches missed.">            if((evt.getKeyCode()==KeyEvent.VK_ENTER)||(evt.getKeyCode()==KeyEvent.VK_UP)||(evt.getKeyCode()==KeyEvent.VK_DOWN)){</span>
                try {                  
<span class="nc" id="L859">                   int row=tbDokter.getSelectedColumn();</span>
<span class="nc bnc" id="L860" title="All 6 branches missed.">                   if((row==1)||(row==4)||(row==6)){                       </span>
<span class="nc" id="L861">                        getData();  </span>
<span class="nc" id="L862">                        TCari.setText(&quot;&quot;);</span>
<span class="nc" id="L863">                        TCari.requestFocus();</span>
                   }
<span class="nc" id="L865">                } catch (java.lang.NullPointerException e) {</span>
<span class="nc" id="L866">                }</span>
<span class="nc bnc" id="L867" title="All 2 branches missed.">            }else if(evt.getKeyCode()==KeyEvent.VK_DELETE){</span>
<span class="nc" id="L868">                int row=tbDokter.getSelectedRow();</span>
<span class="nc bnc" id="L869" title="All 2 branches missed.">                if(row!= -1){</span>
<span class="nc" id="L870">                    tabMode.setValueAt(&quot;&quot;, row,0);</span>
                }
            }
        }
<span class="nc" id="L874">}//GEN-LAST:event_tbDokterKeyPressed</span>

private void NoFakturKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_NoFakturKeyPressed
<span class="nc" id="L877">        Valid.pindah(evt, BtnSimpan, kdsup);</span>
<span class="nc" id="L878">}//GEN-LAST:event_NoFakturKeyPressed</span>

private void TglBeliKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TglBeliKeyPressed
<span class="nc" id="L881">        Valid.pindah(evt,NoFaktur,kdsup);</span>
<span class="nc" id="L882">}//GEN-LAST:event_TglBeliKeyPressed</span>

private void kdsupKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_kdsupKeyPressed
<span class="nc bnc" id="L885" title="All 2 branches missed.">        if(evt.getKeyCode()==KeyEvent.VK_PAGE_DOWN){</span>
<span class="nc" id="L886">            Sequel.cariIsi(&quot;select nama_suplier from datasuplier where kode_suplier=?&quot;, nmsup,kdsup.getText());           </span>
<span class="nc bnc" id="L887" title="All 2 branches missed.">        }else if(evt.getKeyCode()==KeyEvent.VK_PAGE_UP){</span>
<span class="nc" id="L888">            Sequel.cariIsi(&quot;select nama_suplier from datasuplier where kode_suplier=?&quot;, nmsup,kdsup.getText());</span>
<span class="nc" id="L889">            NoFaktur.requestFocus();</span>
<span class="nc bnc" id="L890" title="All 2 branches missed.">        }else if(evt.getKeyCode()==KeyEvent.VK_ENTER){</span>
<span class="nc" id="L891">            Sequel.cariIsi(&quot;select nama_suplier from datasuplier where kode_suplier=?&quot;, nmsup,kdsup.getText());</span>
<span class="nc" id="L892">            kdptg.requestFocus(); </span>
        }
<span class="nc" id="L894">}//GEN-LAST:event_kdsupKeyPressed</span>

private void kdptgKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_kdptgKeyPressed
<span class="nc bnc" id="L897" title="All 2 branches missed.">        if(evt.getKeyCode()==KeyEvent.VK_PAGE_DOWN){</span>
<span class="nc" id="L898">            Sequel.cariIsi(&quot;select nama_krywn from datakaryawan where kode_krywn=?&quot;, nmptg,kdptg.getText());          </span>
<span class="nc bnc" id="L899" title="All 2 branches missed.">        }else if(evt.getKeyCode()==KeyEvent.VK_PAGE_UP){</span>
<span class="nc" id="L900">            Sequel.cariIsi(&quot;select nama_krywn from datakaryawan where kode_krywn=?&quot;, nmptg,kdptg.getText());</span>
<span class="nc" id="L901">            kdsup.requestFocus();</span>
<span class="nc bnc" id="L902" title="All 2 branches missed.">        }else if(evt.getKeyCode()==KeyEvent.VK_ENTER){</span>
<span class="nc" id="L903">            Sequel.cariIsi(&quot;select nama_krywn from datakaryawan where kode_krywn=?&quot;, nmptg,kdptg.getText());</span>
<span class="nc" id="L904">            kdgudang.requestFocus();  </span>
        }
<span class="nc" id="L906">}//GEN-LAST:event_kdptgKeyPressed</span>

private void BtnSplActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnSplActionPerformed
<span class="nc" id="L909">        var.setStatus(true);</span>
<span class="nc" id="L910">        form.suplier.emptTeks();</span>
<span class="nc" id="L911">        form.suplier.tampil();</span>
<span class="nc" id="L912">        form.suplier.setSize(internalFrame1.getWidth()-40,internalFrame1.getHeight()-40);</span>
<span class="nc" id="L913">        form.suplier.setLocationRelativeTo(internalFrame1);</span>
<span class="nc" id="L914">        form.suplier.setAlwaysOnTop(false);</span>
<span class="nc" id="L915">        form.suplier.setVisible(true);</span>
<span class="nc" id="L916">}//GEN-LAST:event_BtnSplActionPerformed</span>

private void BtnPtgActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnPtgActionPerformed
<span class="nc" id="L919">        form.petugas.emptTeks();</span>
<span class="nc" id="L920">        form.petugas.tampil();</span>
<span class="nc" id="L921">        form.petugas.setSize(internalFrame1.getWidth()-40,internalFrame1.getHeight()-40);</span>
<span class="nc" id="L922">        form.petugas.setLocationRelativeTo(internalFrame1);</span>
<span class="nc" id="L923">        form.petugas.setAlwaysOnTop(false);</span>
<span class="nc" id="L924">        form.petugas.setVisible(true);</span>
<span class="nc" id="L925">}//GEN-LAST:event_BtnPtgActionPerformed</span>

private void SaldoKasKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_SaldoKasKeyPressed
        // TODO add your handling code here:
<span class="nc" id="L929">}//GEN-LAST:event_SaldoKasKeyPressed</span>

private void kdgudangKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_kdgudangKeyPressed
<span class="nc bnc" id="L932" title="All 2 branches missed.">    if(evt.getKeyCode()==KeyEvent.VK_PAGE_DOWN){</span>
<span class="nc" id="L933">            Sequel.cariIsi(&quot;select bangsal.nm_bangsal from bangsal where bangsal.kd_bangsal=?&quot;,nmgudang,kdgudang.getText());        </span>
<span class="nc bnc" id="L934" title="All 2 branches missed.">        }else if(evt.getKeyCode()==KeyEvent.VK_PAGE_UP){</span>
<span class="nc" id="L935">            Sequel.cariIsi(&quot;select bangsal.nm_bangsal from bangsal where bangsal.kd_bangsal=?&quot;,nmgudang,kdgudang.getText());</span>
<span class="nc" id="L936">            kdptg.requestFocus();</span>
<span class="nc bnc" id="L937" title="All 2 branches missed.">        }else if(evt.getKeyCode()==KeyEvent.VK_ENTER){</span>
<span class="nc" id="L938">            Sequel.cariIsi(&quot;select bangsal.nm_bangsal from bangsal where bangsal.kd_bangsal=?&quot;,nmgudang,kdgudang.getText());</span>
<span class="nc" id="L939">            BtnSimpan.requestFocus();    </span>
        }
<span class="nc" id="L941">}//GEN-LAST:event_kdgudangKeyPressed</span>

private void BtnGudangActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnGudangActionPerformed
<span class="nc" id="L944">        var.setStatus(true);</span>
<span class="nc" id="L945">        bangsal.tampil();</span>
<span class="nc" id="L946">        bangsal.emptTeks();        </span>
<span class="nc" id="L947">        bangsal.setSize(internalFrame1.getWidth()-40,internalFrame1.getHeight()-40);</span>
<span class="nc" id="L948">        bangsal.setLocationRelativeTo(internalFrame1);</span>
<span class="nc" id="L949">        bangsal.setAlwaysOnTop(false);</span>
<span class="nc" id="L950">        bangsal.setVisible(true);</span>
<span class="nc" id="L951">}//GEN-LAST:event_BtnGudangActionPerformed</span>

private void tppnKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tppnKeyPressed
<span class="nc bnc" id="L954" title="All 2 branches missed.">   if(evt.getKeyCode()==KeyEvent.VK_ENTER){</span>
<span class="nc" id="L955">       getData();</span>
   }
<span class="nc" id="L957">}//GEN-LAST:event_tppnKeyPressed</span>

    /**
    * @param args the command line arguments
    */
    public static void main(String args[]) {
<span class="nc" id="L963">        java.awt.EventQueue.invokeLater(() -&gt; {</span>
            DlgPembelian dialog = new DlgPembelian(new javax.swing.JFrame(), true);
<span class="nc" id="L965">            dialog.addWindowListener(new java.awt.event.WindowAdapter() {</span>
                @Override
                public void windowClosing(java.awt.event.WindowEvent e) {
<span class="nc" id="L968">                    System.exit(0);</span>
<span class="nc" id="L969">                }</span>
            });
            dialog.setVisible(true);
        });
<span class="nc" id="L973">    }</span>

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private widget.Button BtnCari;
    private widget.Button BtnCari1;
    private widget.Button BtnGudang;
    private widget.Button BtnKeluar;
    private widget.Button BtnPtg;
    private widget.Button BtnSimpan;
    private widget.Button BtnSpl;
    private widget.TextBox Kd2;
    private widget.Label LPotongan;
    private widget.Label LPpn;
    private widget.Label LSubtotal;
    private widget.Label LTagiha;
    private widget.Label LTotal2;
    private widget.TextBox NoFaktur;
    private javax.swing.JPopupMenu Popup;
    private widget.TextBox SaldoKas;
    private widget.TextBox TCari;
    private widget.Tanggal TglBeli;
    private widget.InternalFrame internalFrame1;
    private widget.TextBox kdgudang;
    private widget.TextBox kdptg;
    private widget.TextBox kdsup;
    private widget.Label label10;
    private widget.Label label11;
    private widget.Label label12;
    private widget.Label label13;
    private widget.Label label14;
    private widget.Label label15;
    private widget.Label label16;
    private widget.Label label17;
    private widget.Label label18;
    private widget.Label label19;
    private widget.Label label20;
    private widget.Label label21;
    private widget.Label label9;
    private widget.TextBox nmgudang;
    private widget.TextBox nmptg;
    private widget.TextBox nmsup;
    private widget.panelisi panelisi1;
    private widget.panelisi panelisi3;
    private javax.swing.JMenuItem ppBersihkan;
    private widget.ScrollPane scrollPane1;
    private widget.Table tbDokter;
    private widget.TextBox tppn;
    // End of variables declaration//GEN-END:variables

    public void tampil() {
<span class="nc" id="L1023">        row=tabMode.getRowCount();</span>
<span class="nc" id="L1024">        jml=0;</span>
<span class="nc bnc" id="L1025" title="All 2 branches missed.">        for(i=0;i&lt;row;i++){</span>
<span class="nc bnc" id="L1026" title="All 2 branches missed.">            if(!tabMode.getValueAt(i,0).toString().equals(&quot;&quot;)){</span>
<span class="nc" id="L1027">                jml++;</span>
            }
        }
        
<span class="nc" id="L1031">        kodebarang=new String[jml];</span>
<span class="nc" id="L1032">        namabarang=new String[jml];</span>
<span class="nc" id="L1033">        satuan=new String[jml];</span>
<span class="nc" id="L1034">        harga=new String[jml];</span>
<span class="nc" id="L1035">        jumlah=new String[jml];</span>
<span class="nc" id="L1036">        subtotal=new String[jml];</span>
<span class="nc" id="L1037">        diskon=new String[jml];</span>
<span class="nc" id="L1038">        besardiskon=new String[jml];</span>
<span class="nc" id="L1039">        jmltotal=new String[jml];</span>
<span class="nc" id="L1040">        index=0;        </span>
<span class="nc bnc" id="L1041" title="All 2 branches missed.">        for(i=0;i&lt;row;i++){</span>
<span class="nc bnc" id="L1042" title="All 2 branches missed.">            if(!tabMode.getValueAt(i,0).toString().equals(&quot;&quot;)){</span>
<span class="nc" id="L1043">                jumlah[index]=tabMode.getValueAt(i,0).toString();</span>
<span class="nc" id="L1044">                kodebarang[index]=tabMode.getValueAt(i,1).toString();</span>
<span class="nc" id="L1045">                namabarang[index]=tabMode.getValueAt(i,2).toString();</span>
<span class="nc" id="L1046">                satuan[index]=tabMode.getValueAt(i,3).toString();</span>
<span class="nc" id="L1047">                harga[index]=tabMode.getValueAt(i,4).toString();</span>
<span class="nc" id="L1048">                subtotal[index]=tabMode.getValueAt(i,5).toString();</span>
<span class="nc" id="L1049">                diskon[index]=tabMode.getValueAt(i,6).toString();</span>
<span class="nc" id="L1050">                besardiskon[index]=tabMode.getValueAt(i,7).toString();</span>
<span class="nc" id="L1051">                jmltotal[index]=tabMode.getValueAt(i,8).toString();</span>
<span class="nc" id="L1052">                index++;</span>
            }
        }
<span class="nc" id="L1055">        Valid.tabelKosong(tabMode);</span>
<span class="nc bnc" id="L1056" title="All 2 branches missed.">        for(i=0;i&lt;jml;i++){</span>
<span class="nc" id="L1057">            tabMode.addRow(new Object[]{jumlah[i],kodebarang[i],namabarang[i],satuan[i],harga[i],subtotal[i],diskon[i],besardiskon[i],jmltotal[i]});</span>
        }
        try{
<span class="nc" id="L1060">            ps.setString(1,&quot;%&quot;+TCari.getText().trim()+&quot;%&quot;);</span>
<span class="nc" id="L1061">            ps.setString(2,&quot;%&quot;+TCari.getText().trim()+&quot;%&quot;);</span>
<span class="nc" id="L1062">            ps.setString(3,&quot;%&quot;+TCari.getText().trim()+&quot;%&quot;);</span>
<span class="nc" id="L1063">            rs=ps.executeQuery();</span>
<span class="nc bnc" id="L1064" title="All 2 branches missed.">            while(rs.next()){</span>
<span class="nc" id="L1065">                tabMode.addRow(new Object[]{&quot;&quot;,rs.getString(1),</span>
<span class="nc" id="L1066">                               rs.getString(2),</span>
<span class="nc" id="L1067">                               rs.getString(3),</span>
<span class="nc" id="L1068">                               rs.getString(4),&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;});</span>
            }                 
<span class="nc" id="L1070">        }catch(SQLException e){</span>
<span class="nc" id="L1071">            System.out.println(&quot;Error : &quot;+e);</span>
<span class="nc" id="L1072">        }</span>
        
<span class="nc" id="L1074">    }</span>

    private void getData(){
<span class="nc" id="L1077">        row=tbDokter.getSelectedRow();</span>
<span class="nc bnc" id="L1078" title="All 2 branches missed.">        if(row!= -1){            </span>
<span class="nc bnc" id="L1079" title="All 2 branches missed.">            if(!tabMode.getValueAt(row,0).toString().equals(&quot;&quot;)){</span>
<span class="nc" id="L1080">                double subttl=Double.parseDouble(tabMode.getValueAt(row,0).toString())*Double.parseDouble(tabMode.getValueAt(row,4).toString());</span>
<span class="nc" id="L1081">                tabMode.setValueAt(Valid.SetAngka2(subttl), row,5);</span>
<span class="nc" id="L1082">                double dis=Double.parseDouble(tabMode.getValueAt(row,6).toString());</span>
<span class="nc" id="L1083">                tabMode.setValueAt(Valid.SetAngka2(subttl*(dis/100)), row,7);</span>
<span class="nc" id="L1084">               tabMode.setValueAt(Valid.SetAngka2(subttl-(subttl*(dis/100))), row,8);</span>
             }
            
<span class="nc" id="L1087">            ttl=0;sbttl=0;ppn=0;ttldisk=0;</span>
<span class="nc" id="L1088">            y=0;w=0;</span>
<span class="nc" id="L1089">            jml=tabMode.getRowCount();</span>
<span class="nc bnc" id="L1090" title="All 2 branches missed.">            for(int r=0;r&lt;jml;r++){                 </span>
<span class="nc bnc" id="L1091" title="All 2 branches missed.">                if(!tabMode.getValueAt(r,5).toString().isEmpty()){</span>
<span class="nc" id="L1092">                    w=Double.parseDouble(tabMode.getValueAt(r,5).toString());                </span>
<span class="nc bnc" id="L1093" title="All 2 branches missed.">                }else if(tabMode.getValueAt(r,5).toString().isEmpty()){</span>
<span class="nc" id="L1094">                    w=0;                </span>
                }
<span class="nc" id="L1096">                sbttl=sbttl+w;                </span>
<span class="nc bnc" id="L1097" title="All 2 branches missed.">                if(!tabMode.getValueAt(r,7).toString().isEmpty()){</span>
<span class="nc" id="L1098">                    y=Double.parseDouble(tabMode.getValueAt(r,7).toString());                </span>
<span class="nc bnc" id="L1099" title="All 2 branches missed.">                }else if(tabMode.getValueAt(r,7).toString().isEmpty()){</span>
<span class="nc" id="L1100">                    y=0;                </span>
                }
<span class="nc" id="L1102">                ttldisk=ttldisk+y;</span>
            }
<span class="nc" id="L1104">            LSubtotal.setText(Valid.SetAngka(sbttl));</span>
<span class="nc" id="L1105">            LPotongan.setText(Valid.SetAngka(ttldisk));</span>
<span class="nc" id="L1106">            ttl=sbttl-ttldisk;</span>
<span class="nc" id="L1107">            LTotal2.setText(Valid.SetAngka(ttl));</span>
<span class="nc" id="L1108">            ppn=0;</span>
<span class="nc bnc" id="L1109" title="All 2 branches missed.">            if(!tppn.getText().equals(&quot;&quot;)){</span>
<span class="nc" id="L1110">                ppn=(Double.parseDouble(tppn.getText())/100) *(ttl);</span>
<span class="nc" id="L1111">                LPpn.setText(Valid.SetAngka(ppn));</span>
<span class="nc" id="L1112">                LTagiha.setText(Valid.SetAngka(ttl+ppn));</span>
            }
            
        }
<span class="nc" id="L1116">    }</span>
    
        
    private void isSaldo(){
        /*Sequel.cariIsi(&quot;select (rekeningtahun.saldo_awal+(sum(detailjurnal.debet)-sum(detailjurnal.kredit))) &quot;+
                       &quot;from jurnal inner join detailjurnal inner join rekeningtahun &quot;+
                       &quot; on detailjurnal.no_jurnal=jurnal.no_jurnal &quot;+
                       &quot; and detailjurnal.kd_rek=rekeningtahun.kd_rek where rekeningtahun.thn='&quot;+TglBeli.getSelectedItem().toString().substring(0,4) +&quot;' &quot;+
                       &quot; and detailjurnal.kd_rek='11120' and jurnal.tgl_jurnal like '%&quot;+TglBeli.getSelectedItem().toString().substring(0,4) +&quot;%' &quot;,SaldoKas); */
<span class="nc" id="L1125">        saldoawal=Sequel.cariIsiAngka(&quot;select rekeningtahun.saldo_awal &quot;+</span>
                       &quot; from  rekeningtahun where rekeningtahun.thn=? &quot;+
<span class="nc" id="L1127">                       &quot; and rekeningtahun.kd_rek='11120' &quot;,TglBeli.getSelectedItem().toString().substring(0,4) );</span>
<span class="nc" id="L1128">        mutasi=Sequel.cariIsiAngka(&quot;select (sum(detailjurnal.debet)-sum(detailjurnal.kredit)) &quot;+</span>
                       &quot;from jurnal inner join detailjurnal &quot;+
                       &quot; on detailjurnal.no_jurnal=jurnal.no_jurnal &quot;+
<span class="nc" id="L1131">                       &quot; where detailjurnal.kd_rek='11120' and jurnal.tgl_jurnal like ? &quot;,&quot;%&quot;+TglBeli.getSelectedItem().toString().substring(0,4) +&quot;%&quot;);</span>
<span class="nc" id="L1132">        kas=saldoawal+mutasi;</span>
<span class="nc" id="L1133">        SaldoKas.setText(df3.format(kas));</span>
                
<span class="nc" id="L1135">    }</span>
    
    
    public void isCek(){
<span class="nc" id="L1139">        Valid.autoNomer3(&quot;select ifnull(MAX(CONVERT(RIGHT(no_faktur,6),signed)),0) from pembelian &quot;,&quot;PB&quot;,6,NoFaktur); </span>
<span class="nc" id="L1140">        TCari.requestFocus();</span>
<span class="nc" id="L1141">        tppn.setText(&quot;10&quot;);</span>
<span class="nc" id="L1142">        isSaldo();</span>
<span class="nc bnc" id="L1143" title="All 2 branches missed.">        if(var.getjml2()&gt;=1){</span>
<span class="nc" id="L1144">            kdptg.setEditable(false);</span>
<span class="nc" id="L1145">            BtnPtg.setEnabled(false);</span>
<span class="nc" id="L1146">            kdptg.setText(var.getkode());</span>
<span class="nc" id="L1147">            BtnSimpan.setEnabled(var.getpembelian());</span>
<span class="nc" id="L1148">            Sequel.cariIsi(&quot;select nama from petugas where nip=?&quot;, nmptg,kdptg.getText());</span>
        }        
<span class="nc" id="L1150">    }</span>

 
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.1.201405082137</span></div></body></html>