<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>DlgInputStok.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCoverage analysis of project &quot;KhanzaHMS&quot; (powered by JaCoCo from EclEmma)</a> &gt; <a href="index.source.html" class="el_package">inventory</a> &gt; <span class="el_source">DlgInputStok.java</span></div><h1>DlgInputStok.java</h1><pre class="source lang-java linenums">/*
  Dilarang keras menggandakan/mengcopy/menyebarkan/membajak/mendecompile 
  Software ini dalam bentuk apapun tanpa seijin pembuat software
  (Khanza.Soft Media). Bagi yang sengaja membajak softaware ini ta
  npa ijin, kami sumpahi sial 1000 turunan, miskin sampai 500 turu
  nan. Selalu mendapat kecelakaan sampai 400 turunan. Anak pertama
  nya cacat tidak punya kaki sampai 300 turunan. Susah cari jodoh
  sampai umur 50 tahun sampai 200 turunan. Ya Alloh maafkan kami 
  karena telah berdoa buruk, semua ini kami lakukan karena kami ti
  dak pernah rela karya kami dibajak tanpa ijin.
 */

package inventory;
import fungsi.WarnaTable;
import fungsi.batasInput;
import fungsi.koneksiDB;
import fungsi.sekuel;
import fungsi.validasi;
import fungsi.var;
import java.awt.Cursor;
import java.awt.Dimension;
import java.awt.Toolkit;
import java.awt.event.KeyEvent;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.text.DecimalFormat;
import javax.swing.JOptionPane;
import javax.swing.JTable;
import javax.swing.event.DocumentEvent;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.TableColumn;
import keuangan.Jurnal;
import khanzahms.DlgCariBangsal;

public class DlgInputStok extends javax.swing.JDialog {
    private final DefaultTableModel tabMode;
<span class="nc" id="L41">    private sekuel Sequel=new sekuel();</span>
<span class="nc" id="L42">    private validasi Valid=new validasi();</span>
<span class="nc" id="L43">    private Connection koneksi=koneksiDB.condb();</span>
<span class="nc" id="L44">    private Jurnal jur=new Jurnal();</span>
    private PreparedStatement pstampil,psstok;
    private ResultSet rstampil,rsstok;

    /** Creates new form DlgProgramStudi
     * @param parent
     * @param modal */
    public DlgInputStok(java.awt.Frame parent, boolean modal) {
<span class="nc" id="L52">        super(parent, modal);</span>
<span class="nc" id="L53">        initComponents();</span>

<span class="nc" id="L55">        Object[] row={&quot;Real&quot;,</span>
                    &quot;Kode Barang&quot;,
                    &quot;Nama Barang&quot;,
                    &quot;Kategori&quot;,
                    &quot;Satuan&quot;,
                    &quot;Harga&quot;,
                    &quot;Stok&quot;,
                    &quot;Selisih&quot;,
                    &quot;Nominal Hilang(Rp)&quot;};
<span class="nc" id="L64">        tabMode=new DefaultTableModel(null,row){</span>
            @Override public boolean isCellEditable(int rowIndex, int colIndex){
<span class="nc" id="L66">                boolean a = false;</span>
<span class="nc bnc" id="L67" title="All 2 branches missed.">                if (colIndex==0) {</span>
<span class="nc" id="L68">                    a=true;</span>
                }
<span class="nc" id="L70">                return a;</span>
             }
        };
<span class="nc" id="L73">        tbDokter.setModel(tabMode);</span>

<span class="nc" id="L75">        tbDokter.setPreferredScrollableViewportSize(new Dimension(800,800));</span>
<span class="nc" id="L76">        tbDokter.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);</span>

<span class="nc bnc" id="L78" title="All 2 branches missed.">        for (i = 0; i &lt; 9; i++) {</span>
<span class="nc" id="L79">            TableColumn column = tbDokter.getColumnModel().getColumn(i);</span>
<span class="nc bnc" id="L80" title="All 2 branches missed.">            if(i==0){</span>
<span class="nc" id="L81">                column.setPreferredWidth(60);</span>
<span class="nc bnc" id="L82" title="All 2 branches missed.">            }else if(i==1){</span>
<span class="nc" id="L83">                column.setPreferredWidth(90);</span>
<span class="nc bnc" id="L84" title="All 2 branches missed.">            }else if(i==2){</span>
<span class="nc" id="L85">                column.setPreferredWidth(250);</span>
<span class="nc bnc" id="L86" title="All 2 branches missed.">            }else if(i==3){</span>
<span class="nc" id="L87">                column.setPreferredWidth(100);</span>
<span class="nc bnc" id="L88" title="All 2 branches missed.">            }else if(i==4){</span>
<span class="nc" id="L89">                column.setPreferredWidth(100);</span>
<span class="nc bnc" id="L90" title="All 2 branches missed.">            }else if(i==5){</span>
<span class="nc" id="L91">                column.setPreferredWidth(100);</span>
<span class="nc bnc" id="L92" title="All 2 branches missed.">            }else if(i==6){</span>
<span class="nc" id="L93">                column.setPreferredWidth(70);</span>
<span class="nc bnc" id="L94" title="All 2 branches missed.">            }else if(i==7){</span>
<span class="nc" id="L95">                column.setPreferredWidth(70);</span>
<span class="nc bnc" id="L96" title="All 2 branches missed.">            }else if(i==8){</span>
<span class="nc" id="L97">                column.setPreferredWidth(110);</span>
            }
        }
<span class="nc" id="L100">        tbDokter.setDefaultRenderer(Object.class, new WarnaTable());</span>

<span class="nc" id="L102">        kdgudang.setDocument(new batasInput((byte)5).getKata(kdgudang));</span>
<span class="nc" id="L103">        catatan.setDocument(new batasInput((byte)60).getKata(catatan));  </span>
<span class="nc" id="L104">        TCari.setDocument(new batasInput((byte)100).getKata(TCari)); </span>
<span class="nc" id="L105">        TCari.getDocument().addDocumentListener(new javax.swing.event.DocumentListener(){</span>
            @Override
            public void insertUpdate(DocumentEvent e) {
<span class="nc" id="L108">                tampil();</span>
<span class="nc" id="L109">            }</span>

            @Override
            public void removeUpdate(DocumentEvent e) {
<span class="nc" id="L113">                tampil();</span>
<span class="nc" id="L114">            }</span>

            @Override
            public void changedUpdate(DocumentEvent e) {
<span class="nc" id="L118">                tampil();</span>
<span class="nc" id="L119">            }</span>

        });
        
        
<span class="nc" id="L124">        bangsal.getTable().addMouseListener(new MouseListener() {</span>
            @Override
            public void mouseClicked(MouseEvent e) { 
<span class="nc" id="L127">                    kdgudang.setText(bangsal.getTextField().getText());</span>
<span class="nc" id="L128">                    Sequel.cariIsi(&quot;select bangsal.nm_bangsal from bangsal where bangsal.kd_bangsal=?&quot;,nmgudang,kdgudang.getText());</span>
<span class="nc" id="L129">                    tampil();</span>
<span class="nc" id="L130">            }</span>

            @Override
<span class="nc" id="L133">            public void mousePressed(MouseEvent e) {}</span>
            @Override
<span class="nc" id="L135">            public void mouseReleased(MouseEvent e) {}</span>
            @Override
<span class="nc" id="L137">            public void mouseEntered(MouseEvent e) {}</span>
            @Override
<span class="nc" id="L139">            public void mouseExited(MouseEvent e) {}</span>
        });
        
<span class="nc" id="L142">        TCari.requestFocus();</span>
        try{
<span class="nc" id="L144">            pstampil=koneksi.prepareStatement(&quot;select databarang.kode_brng, databarang.nama_brng,jenis.nama, databarang.kode_sat, &quot;+</span>
                &quot;databarang.h_beli from databarang inner join jenis on databarang.kdjns=jenis.kdjns &quot;+
                &quot; where databarang.kode_brng like ? or &quot;+
                &quot; databarang.nama_brng like ? or &quot;+
                &quot; databarang.kode_sat like ? or &quot;+
                &quot; jenis.nama like ? order by databarang.nama_brng&quot;);
<span class="nc" id="L150">            psstok=koneksiDB.condb().prepareStatement(&quot;select ifnull(stok,'0') from gudangbarang where kd_bangsal=? and kode_brng=?&quot;);</span>
<span class="nc" id="L151">        }catch(SQLException e){</span>
<span class="nc" id="L152">            System.out.println(e);</span>
<span class="nc" id="L153">        }</span>
            
<span class="nc" id="L155">    }</span>
<span class="nc" id="L156">    private Dimension screen=Toolkit.getDefaultToolkit().getScreenSize();</span>
<span class="nc" id="L157">    private DecimalFormat df2 = new DecimalFormat(&quot;###,###,###,###,###,###,###&quot;);</span>
<span class="nc" id="L158">    private DecimalFormat df3 = new DecimalFormat(&quot;###&quot;);</span>
<span class="nc" id="L159">    private DlgCariBangsal bangsal=new DlgCariBangsal(null,false);</span>
<span class="nc" id="L160">    private double ttl=0,y=0,stokbarang=0;</span>
<span class="nc" id="L161">    private int jml=0,i=0,index=0;</span>
    private String[] real,kodebarang,namabarang,kategori,satuan,hargabeli,stok,selisih,nomihilang;

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings(&quot;unchecked&quot;)
    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents
    private void initComponents() {

<span class="nc" id="L173">        Kd2 = new widget.TextBox();</span>
<span class="nc" id="L174">        Popup = new javax.swing.JPopupMenu();</span>
<span class="nc" id="L175">        ppBersihkan = new javax.swing.JMenuItem();</span>
<span class="nc" id="L176">        internalFrame1 = new widget.InternalFrame();</span>
<span class="nc" id="L177">        scrollPane1 = new widget.ScrollPane();</span>
<span class="nc" id="L178">        tbDokter = new widget.Table();</span>
<span class="nc" id="L179">        jPanel1 = new javax.swing.JPanel();</span>
<span class="nc" id="L180">        panelisi1 = new widget.panelisi();</span>
<span class="nc" id="L181">        BtnSimpan = new widget.Button();</span>
<span class="nc" id="L182">        label13 = new widget.Label();</span>
<span class="nc" id="L183">        BtnCari = new widget.Button();</span>
<span class="nc" id="L184">        BtnKeluar = new widget.Button();</span>
<span class="nc" id="L185">        panelisi5 = new widget.panelisi();</span>
<span class="nc" id="L186">        label9 = new widget.Label();</span>
<span class="nc" id="L187">        TCari = new widget.TextBox();</span>
<span class="nc" id="L188">        BtnCari1 = new widget.Button();</span>
<span class="nc" id="L189">        label10 = new widget.Label();</span>
<span class="nc" id="L190">        LTotal = new widget.Label();</span>
<span class="nc" id="L191">        panelisi3 = new widget.panelisi();</span>
<span class="nc" id="L192">        label18 = new widget.Label();</span>
<span class="nc" id="L193">        catatan = new widget.TextBox();</span>
<span class="nc" id="L194">        label11 = new widget.Label();</span>
<span class="nc" id="L195">        Tgl = new widget.Tanggal();</span>
<span class="nc" id="L196">        label21 = new widget.Label();</span>
<span class="nc" id="L197">        kdgudang = new widget.TextBox();</span>
<span class="nc" id="L198">        nmgudang = new widget.TextBox();</span>
<span class="nc" id="L199">        BtnGudang = new widget.Button();</span>

<span class="nc" id="L201">        Kd2.setFont(new java.awt.Font(&quot;Tahoma&quot;, 0, 12)); // NOI18N</span>
<span class="nc" id="L202">        Kd2.setName(&quot;Kd2&quot;); // NOI18N</span>
<span class="nc" id="L203">        Kd2.setPreferredSize(new java.awt.Dimension(207, 23));</span>

<span class="nc" id="L205">        Popup.setName(&quot;Popup&quot;); // NOI18N</span>

<span class="nc" id="L207">        ppBersihkan.setBackground(new java.awt.Color(255, 255, 255));</span>
<span class="nc" id="L208">        ppBersihkan.setFont(new java.awt.Font(&quot;Tahoma&quot;, 0, 12)); // NOI18N</span>
<span class="nc" id="L209">        ppBersihkan.setForeground(new java.awt.Color(102, 51, 0));</span>
<span class="nc" id="L210">        ppBersihkan.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/stop_f2.png&quot;))); // NOI18N</span>
<span class="nc" id="L211">        ppBersihkan.setText(&quot;Bersihkan Jumlah&quot;);</span>
<span class="nc" id="L212">        ppBersihkan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);</span>
<span class="nc" id="L213">        ppBersihkan.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);</span>
<span class="nc" id="L214">        ppBersihkan.setIconTextGap(8);</span>
<span class="nc" id="L215">        ppBersihkan.setName(&quot;ppBersihkan&quot;); // NOI18N</span>
<span class="nc" id="L216">        ppBersihkan.setPreferredSize(new java.awt.Dimension(200, 25));</span>
<span class="nc" id="L217">        ppBersihkan.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L219">                ppBersihkanActionPerformed(evt);</span>
<span class="nc" id="L220">            }</span>
        });
<span class="nc" id="L222">        Popup.add(ppBersihkan);</span>

<span class="nc" id="L224">        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);</span>
<span class="nc" id="L225">        setUndecorated(true);</span>
<span class="nc" id="L226">        setResizable(false);</span>

<span class="nc" id="L228">        internalFrame1.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(240, 245, 235)), &quot;::[ Stok Opname ]::&quot;, javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font(&quot;Tahoma&quot;, 0, 11), new java.awt.Color(50, 70, 40))); // NOI18N</span>
<span class="nc" id="L229">        internalFrame1.setName(&quot;internalFrame1&quot;); // NOI18N</span>
<span class="nc" id="L230">        internalFrame1.setLayout(new java.awt.BorderLayout(1, 1));</span>

<span class="nc" id="L232">        scrollPane1.setComponentPopupMenu(Popup);</span>
<span class="nc" id="L233">        scrollPane1.setName(&quot;scrollPane1&quot;); // NOI18N</span>
<span class="nc" id="L234">        scrollPane1.setOpaque(true);</span>

<span class="nc" id="L236">        tbDokter.setModel(new javax.swing.table.DefaultTableModel(</span>
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
<span class="nc" id="L247">        tbDokter.setToolTipText(&quot;Silahkan klik untuk memilih data yang mau diedit ataupun dihapus&quot;);</span>
<span class="nc" id="L248">        tbDokter.setComponentPopupMenu(Popup);</span>
<span class="nc" id="L249">        tbDokter.setName(&quot;tbDokter&quot;); // NOI18N</span>
<span class="nc" id="L250">        tbDokter.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mouseClicked(java.awt.event.MouseEvent evt) {
<span class="nc" id="L252">                tbDokterMouseClicked(evt);</span>
<span class="nc" id="L253">            }</span>
        });
<span class="nc" id="L255">        tbDokter.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L257">                tbDokterKeyPressed(evt);</span>
<span class="nc" id="L258">            }</span>
        });
<span class="nc" id="L260">        scrollPane1.setViewportView(tbDokter);</span>

<span class="nc" id="L262">        internalFrame1.add(scrollPane1, java.awt.BorderLayout.CENTER);</span>

<span class="nc" id="L264">        jPanel1.setName(&quot;jPanel1&quot;); // NOI18N</span>
<span class="nc" id="L265">        jPanel1.setOpaque(false);</span>
<span class="nc" id="L266">        jPanel1.setPreferredSize(new java.awt.Dimension(816, 102));</span>
<span class="nc" id="L267">        jPanel1.setLayout(new java.awt.BorderLayout(1, 1));</span>

<span class="nc" id="L269">        panelisi1.setName(&quot;panelisi1&quot;); // NOI18N</span>
<span class="nc" id="L270">        panelisi1.setPreferredSize(new java.awt.Dimension(100, 56));</span>
<span class="nc" id="L271">        panelisi1.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEFT, 5, 9));</span>

<span class="nc" id="L273">        BtnSimpan.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/save-16x16.png&quot;))); // NOI18N</span>
<span class="nc" id="L274">        BtnSimpan.setMnemonic('S');</span>
<span class="nc" id="L275">        BtnSimpan.setText(&quot;Simpan&quot;);</span>
<span class="nc" id="L276">        BtnSimpan.setToolTipText(&quot;Alt+S&quot;);</span>
<span class="nc" id="L277">        BtnSimpan.setName(&quot;BtnSimpan&quot;); // NOI18N</span>
<span class="nc" id="L278">        BtnSimpan.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L280">                BtnSimpanActionPerformed(evt);</span>
<span class="nc" id="L281">            }</span>
        });
<span class="nc" id="L283">        BtnSimpan.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L285">                BtnSimpanKeyPressed(evt);</span>
<span class="nc" id="L286">            }</span>
        });
<span class="nc" id="L288">        panelisi1.add(BtnSimpan);</span>

<span class="nc" id="L290">        label13.setFont(new java.awt.Font(&quot;Tahoma&quot;, 0, 14)); // NOI18N</span>
<span class="nc" id="L291">        label13.setName(&quot;label13&quot;); // NOI18N</span>
<span class="nc" id="L292">        label13.setPreferredSize(new java.awt.Dimension(487, 26));</span>
<span class="nc" id="L293">        panelisi1.add(label13);</span>

<span class="nc" id="L295">        BtnCari.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/Search-16x16.png&quot;))); // NOI18N</span>
<span class="nc" id="L296">        BtnCari.setMnemonic('C');</span>
<span class="nc" id="L297">        BtnCari.setText(&quot;Cari&quot;);</span>
<span class="nc" id="L298">        BtnCari.setToolTipText(&quot;Alt+C&quot;);</span>
<span class="nc" id="L299">        BtnCari.setName(&quot;BtnCari&quot;); // NOI18N</span>
<span class="nc" id="L300">        BtnCari.setPreferredSize(new java.awt.Dimension(100, 30));</span>
<span class="nc" id="L301">        BtnCari.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L303">                BtnCariActionPerformed(evt);</span>
<span class="nc" id="L304">            }</span>
        });
<span class="nc" id="L306">        BtnCari.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L308">                BtnCariKeyPressed(evt);</span>
<span class="nc" id="L309">            }</span>
        });
<span class="nc" id="L311">        panelisi1.add(BtnCari);</span>

<span class="nc" id="L313">        BtnKeluar.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/exit.png&quot;))); // NOI18N</span>
<span class="nc" id="L314">        BtnKeluar.setMnemonic('K');</span>
<span class="nc" id="L315">        BtnKeluar.setText(&quot;Keluar&quot;);</span>
<span class="nc" id="L316">        BtnKeluar.setToolTipText(&quot;Alt+K&quot;);</span>
<span class="nc" id="L317">        BtnKeluar.setName(&quot;BtnKeluar&quot;); // NOI18N</span>
<span class="nc" id="L318">        BtnKeluar.setPreferredSize(new java.awt.Dimension(100, 30));</span>
<span class="nc" id="L319">        BtnKeluar.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L321">                BtnKeluarActionPerformed(evt);</span>
<span class="nc" id="L322">            }</span>
        });
<span class="nc" id="L324">        BtnKeluar.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L326">                BtnKeluarKeyPressed(evt);</span>
<span class="nc" id="L327">            }</span>
        });
<span class="nc" id="L329">        panelisi1.add(BtnKeluar);</span>

<span class="nc" id="L331">        jPanel1.add(panelisi1, java.awt.BorderLayout.PAGE_END);</span>

<span class="nc" id="L333">        panelisi5.setName(&quot;panelisi5&quot;); // NOI18N</span>
<span class="nc" id="L334">        panelisi5.setPreferredSize(new java.awt.Dimension(100, 54));</span>
<span class="nc" id="L335">        panelisi5.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEFT, 4, 9));</span>

<span class="nc" id="L337">        label9.setText(&quot;Key Word :&quot;);</span>
<span class="nc" id="L338">        label9.setName(&quot;label9&quot;); // NOI18N</span>
<span class="nc" id="L339">        label9.setPreferredSize(new java.awt.Dimension(70, 23));</span>
<span class="nc" id="L340">        panelisi5.add(label9);</span>

<span class="nc" id="L342">        TCari.setName(&quot;TCari&quot;); // NOI18N</span>
<span class="nc" id="L343">        TCari.setPreferredSize(new java.awt.Dimension(400, 23));</span>
<span class="nc" id="L344">        TCari.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L346">                TCariKeyPressed(evt);</span>
<span class="nc" id="L347">            }</span>
        });
<span class="nc" id="L349">        panelisi5.add(TCari);</span>

<span class="nc" id="L351">        BtnCari1.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/accept.png&quot;))); // NOI18N</span>
<span class="nc" id="L352">        BtnCari1.setMnemonic('1');</span>
<span class="nc" id="L353">        BtnCari1.setToolTipText(&quot;Alt+1&quot;);</span>
<span class="nc" id="L354">        BtnCari1.setName(&quot;BtnCari1&quot;); // NOI18N</span>
<span class="nc" id="L355">        BtnCari1.setPreferredSize(new java.awt.Dimension(28, 23));</span>
<span class="nc" id="L356">        BtnCari1.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L358">                BtnCari1ActionPerformed(evt);</span>
<span class="nc" id="L359">            }</span>
        });
<span class="nc" id="L361">        BtnCari1.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L363">                BtnCari1KeyPressed(evt);</span>
<span class="nc" id="L364">            }</span>
        });
<span class="nc" id="L366">        panelisi5.add(BtnCari1);</span>

<span class="nc" id="L368">        label10.setText(&quot;Total :&quot;);</span>
<span class="nc" id="L369">        label10.setName(&quot;label10&quot;); // NOI18N</span>
<span class="nc" id="L370">        label10.setPreferredSize(new java.awt.Dimension(90, 23));</span>
<span class="nc" id="L371">        panelisi5.add(label10);</span>

<span class="nc" id="L373">        LTotal.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);</span>
<span class="nc" id="L374">        LTotal.setText(&quot;0&quot;);</span>
<span class="nc" id="L375">        LTotal.setName(&quot;LTotal&quot;); // NOI18N</span>
<span class="nc" id="L376">        LTotal.setPreferredSize(new java.awt.Dimension(125, 23));</span>
<span class="nc" id="L377">        panelisi5.add(LTotal);</span>

<span class="nc" id="L379">        jPanel1.add(panelisi5, java.awt.BorderLayout.CENTER);</span>

<span class="nc" id="L381">        internalFrame1.add(jPanel1, java.awt.BorderLayout.PAGE_END);</span>

<span class="nc" id="L383">        panelisi3.setName(&quot;panelisi3&quot;); // NOI18N</span>
<span class="nc" id="L384">        panelisi3.setPreferredSize(new java.awt.Dimension(89, 74));</span>
<span class="nc" id="L385">        panelisi3.setLayout(null);</span>

<span class="nc" id="L387">        label18.setText(&quot;Keterangan :&quot;);</span>
<span class="nc" id="L388">        label18.setName(&quot;label18&quot;); // NOI18N</span>
<span class="nc" id="L389">        label18.setPreferredSize(new java.awt.Dimension(60, 23));</span>
<span class="nc" id="L390">        panelisi3.add(label18);</span>
<span class="nc" id="L391">        label18.setBounds(0, 40, 110, 23);</span>

<span class="nc" id="L393">        catatan.setName(&quot;catatan&quot;); // NOI18N</span>
<span class="nc" id="L394">        catatan.setPreferredSize(new java.awt.Dimension(207, 23));</span>
<span class="nc" id="L395">        catatan.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L397">                catatanKeyPressed(evt);</span>
<span class="nc" id="L398">            }</span>
        });
<span class="nc" id="L400">        panelisi3.add(catatan);</span>
<span class="nc" id="L401">        catatan.setBounds(114, 40, 688, 23);</span>

<span class="nc" id="L403">        label11.setText(&quot;Tanggal Opname :&quot;);</span>
<span class="nc" id="L404">        label11.setName(&quot;label11&quot;); // NOI18N</span>
<span class="nc" id="L405">        label11.setPreferredSize(new java.awt.Dimension(70, 23));</span>
<span class="nc" id="L406">        panelisi3.add(label11);</span>
<span class="nc" id="L407">        label11.setBounds(0, 10, 110, 23);</span>

<span class="nc" id="L409">        Tgl.setEditable(false);</span>
<span class="nc" id="L410">        Tgl.setDisplayFormat(&quot;yyyy-MM-dd&quot;);</span>
<span class="nc" id="L411">        Tgl.setName(&quot;Tgl&quot;); // NOI18N</span>
<span class="nc" id="L412">        Tgl.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L414">                TglKeyPressed(evt);</span>
<span class="nc" id="L415">            }</span>
        });
<span class="nc" id="L417">        panelisi3.add(Tgl);</span>
<span class="nc" id="L418">        Tgl.setBounds(114, 10, 95, 23);</span>

<span class="nc" id="L420">        label21.setText(&quot;Lokasi :&quot;);</span>
<span class="nc" id="L421">        label21.setName(&quot;label21&quot;); // NOI18N</span>
<span class="nc" id="L422">        label21.setPreferredSize(new java.awt.Dimension(70, 23));</span>
<span class="nc" id="L423">        panelisi3.add(label21);</span>
<span class="nc" id="L424">        label21.setBounds(236, 10, 90, 23);</span>

<span class="nc" id="L426">        kdgudang.setName(&quot;kdgudang&quot;); // NOI18N</span>
<span class="nc" id="L427">        kdgudang.setPreferredSize(new java.awt.Dimension(80, 23));</span>
<span class="nc" id="L428">        kdgudang.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L430">                kdgudangKeyPressed(evt);</span>
<span class="nc" id="L431">            }</span>
        });
<span class="nc" id="L433">        panelisi3.add(kdgudang);</span>
<span class="nc" id="L434">        kdgudang.setBounds(329, 10, 101, 23);</span>

<span class="nc" id="L436">        nmgudang.setEditable(false);</span>
<span class="nc" id="L437">        nmgudang.setName(&quot;nmgudang&quot;); // NOI18N</span>
<span class="nc" id="L438">        nmgudang.setPreferredSize(new java.awt.Dimension(207, 23));</span>
<span class="nc" id="L439">        panelisi3.add(nmgudang);</span>
<span class="nc" id="L440">        nmgudang.setBounds(432, 10, 340, 23);</span>

<span class="nc" id="L442">        BtnGudang.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/190.png&quot;))); // NOI18N</span>
<span class="nc" id="L443">        BtnGudang.setMnemonic('2');</span>
<span class="nc" id="L444">        BtnGudang.setToolTipText(&quot;Alt+2&quot;);</span>
<span class="nc" id="L445">        BtnGudang.setName(&quot;BtnGudang&quot;); // NOI18N</span>
<span class="nc" id="L446">        BtnGudang.setPreferredSize(new java.awt.Dimension(28, 23));</span>
<span class="nc" id="L447">        BtnGudang.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L449">                BtnGudangActionPerformed(evt);</span>
<span class="nc" id="L450">            }</span>
        });
<span class="nc" id="L452">        panelisi3.add(BtnGudang);</span>
<span class="nc" id="L453">        BtnGudang.setBounds(774, 10, 28, 23);</span>

<span class="nc" id="L455">        internalFrame1.add(panelisi3, java.awt.BorderLayout.PAGE_START);</span>

<span class="nc" id="L457">        getContentPane().add(internalFrame1, java.awt.BorderLayout.CENTER);</span>

<span class="nc" id="L459">        pack();</span>
<span class="nc" id="L460">    }// &lt;/editor-fold&gt;//GEN-END:initComponents</span>

    private void tbDokterMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tbDokterMouseClicked
<span class="nc bnc" id="L463" title="All 2 branches missed.">        if(tabMode.getRowCount()!=0){</span>
            try {                  
<span class="nc" id="L465">                getData();</span>
<span class="nc" id="L466">            } catch (java.lang.NullPointerException e) {</span>
<span class="nc" id="L467">            }</span>
        }
<span class="nc" id="L469">}//GEN-LAST:event_tbDokterMouseClicked</span>

    private void tbDokterKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tbDokterKeyPressed
<span class="nc bnc" id="L472" title="All 2 branches missed.">        if(tabMode.getRowCount()!=0){</span>
<span class="nc bnc" id="L473" title="All 2 branches missed.">            if(evt.getKeyCode()==KeyEvent.VK_ENTER){</span>
                try {                                     
<span class="nc" id="L475">                    getData();                     </span>
<span class="nc" id="L476">                    TCari.setText(&quot;&quot;);</span>
<span class="nc" id="L477">                    TCari.requestFocus();</span>
<span class="nc" id="L478">                } catch (java.lang.NullPointerException e) {</span>
<span class="nc" id="L479">                }</span>
<span class="nc bnc" id="L480" title="All 4 branches missed.">            }else if((evt.getKeyCode()==KeyEvent.VK_UP)||(evt.getKeyCode()==KeyEvent.VK_DOWN)){</span>
                try {                                     
<span class="nc" id="L482">                    getData();           </span>
<span class="nc" id="L483">                } catch (java.lang.NullPointerException e) {</span>
<span class="nc" id="L484">                }</span>
<span class="nc bnc" id="L485" title="All 2 branches missed.">            }else if(evt.getKeyCode()==KeyEvent.VK_DELETE){</span>
<span class="nc" id="L486">                int row=tbDokter.getSelectedRow();</span>
<span class="nc bnc" id="L487" title="All 2 branches missed.">                if(row!= -1){</span>
<span class="nc" id="L488">                    tabMode.setValueAt(&quot;&quot;, row,0);</span>
                }
            }
        }
<span class="nc" id="L492">}//GEN-LAST:event_tbDokterKeyPressed</span>

    private void BtnCariActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnCariActionPerformed
<span class="nc" id="L495">        var.setStatus(false);       </span>
<span class="nc" id="L496">       this.setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));</span>
<span class="nc" id="L497">        DlgStokOpname opname=new DlgStokOpname(null,false);</span>
<span class="nc" id="L498">        opname.tampil();</span>
<span class="nc" id="L499">        opname.isCek(); </span>
<span class="nc" id="L500">        opname.emptTeks();</span>
<span class="nc" id="L501">        opname.setSize(internalFrame1.getWidth(),internalFrame1.getHeight());</span>
<span class="nc" id="L502">        opname.setLocationRelativeTo(internalFrame1);</span>
<span class="nc" id="L503">        opname.setAlwaysOnTop(false);</span>
<span class="nc" id="L504">        opname.setVisible(true);</span>
<span class="nc" id="L505">        this.setCursor(Cursor.getDefaultCursor());</span>
<span class="nc" id="L506">}//GEN-LAST:event_BtnCariActionPerformed</span>

    private void BtnKeluarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnKeluarActionPerformed
<span class="nc" id="L509">            dispose();  </span>
<span class="nc" id="L510">}//GEN-LAST:event_BtnKeluarActionPerformed</span>

    private void BtnKeluarKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_BtnKeluarKeyPressed
<span class="nc bnc" id="L513" title="All 2 branches missed.">        if(evt.getKeyCode()==KeyEvent.VK_SPACE){            </span>
<span class="nc" id="L514">            dispose();              </span>
<span class="nc" id="L515">        }else{Valid.pindah(evt,BtnCari,TCari);}</span>
<span class="nc" id="L516">}//GEN-LAST:event_BtnKeluarKeyPressed</span>
/*
private void KdKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TKdKeyPressed
    Valid.pindah(evt,BtnCari,Nm);
}//GEN-LAST:event_TKdKeyPressed
*/

    private void BtnSimpanActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnSimpanActionPerformed
<span class="nc bnc" id="L524" title="All 4 branches missed.">        if(nmgudang.getText().trim().equals(&quot;&quot;)||kdgudang.getText().trim().equals(&quot;&quot;)){</span>
<span class="nc" id="L525">            Valid.textKosong(kdgudang,&quot;Gudang&quot;);</span>
<span class="nc bnc" id="L526" title="All 2 branches missed.">        }else if(catatan.getText().trim().equals(&quot;&quot;)){</span>
<span class="nc" id="L527">            Valid.textKosong(catatan,&quot;Keterangan&quot;);</span>
<span class="nc bnc" id="L528" title="All 2 branches missed.">        }else if(tbDokter.getRowCount()==0){</span>
<span class="nc" id="L529">            JOptionPane.showMessageDialog(null,&quot;Maaf, data kosong..!!!!&quot;);</span>
<span class="nc" id="L530">            tbDokter.requestFocus();</span>
        }else{
<span class="nc" id="L532">            i= JOptionPane.showConfirmDialog(rootPane,&quot;Eeiiiiiits, udah bener belum data yang mau disimpan..??&quot;,&quot;Konfirmasi&quot;,JOptionPane.YES_NO_OPTION);</span>
<span class="nc bnc" id="L533" title="All 2 branches missed.">            if (i == JOptionPane.YES_OPTION) {</span>
<span class="nc bnc" id="L534" title="All 2 branches missed.">                for(i=0;i&lt;tbDokter.getRowCount();i++){  </span>
<span class="nc bnc" id="L535" title="All 2 branches missed.">                   if(Valid.SetAngka(tbDokter.getValueAt(i,0).toString())&gt;0){</span>
<span class="nc" id="L536">                        Sequel.menyimpan(&quot;opname&quot;,&quot;'&quot;+tbDokter.getValueAt(i,1).toString()+&quot;','&quot;+Tgl.getSelectedItem()+&quot;','&quot;+tbDokter.getValueAt(i,6).toString()+</span>
<span class="nc" id="L537">                            &quot;','&quot;+tbDokter.getValueAt(i,0).toString()+&quot;','&quot;+tbDokter.getValueAt(i,7).toString()+&quot;','&quot;+tbDokter.getValueAt(i,8).toString()+</span>
<span class="nc" id="L538">                            &quot;','&quot;+catatan.getText()+&quot;','&quot;+kdgudang.getText()+&quot;'&quot;,&quot;Stok Opname&quot;); </span>
<span class="nc" id="L539">                        Sequel.menyimpan(&quot;gudangbarang&quot;,&quot;'&quot;+tbDokter.getValueAt(i,1).toString()+&quot;','&quot;+kdgudang.getText()+&quot;','&quot;+tbDokter.getValueAt(i,0).toString()+&quot;'&quot;, </span>
<span class="nc" id="L540">                                    &quot;stok='&quot;+tbDokter.getValueAt(i,0).toString()+&quot;'&quot;,&quot;kode_brng='&quot;+tbDokter.getValueAt(i,1).toString()+&quot;' and kd_bangsal='&quot;+kdgudang.getText()+&quot;'&quot;);       </span>
                   }
                }   
<span class="nc bnc" id="L543" title="All 2 branches missed.">                for(index=0;index&lt;tbDokter.getRowCount();index++){   </span>
<span class="nc" id="L544">                    tbDokter.setValueAt(&quot;&quot;,index,0);        </span>
                }
<span class="nc" id="L546">                tampil();</span>
            }
            
        }
<span class="nc" id="L550">    }//GEN-LAST:event_BtnSimpanActionPerformed</span>

    private void BtnSimpanKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_BtnSimpanKeyPressed
<span class="nc bnc" id="L553" title="All 2 branches missed.">        if(evt.getKeyCode()==KeyEvent.VK_SPACE){</span>
<span class="nc" id="L554">            BtnSimpanActionPerformed(null);</span>
        }else{
<span class="nc" id="L556">           Valid.pindah(evt,kdgudang,BtnCari);</span>
        }
<span class="nc" id="L558">    }//GEN-LAST:event_BtnSimpanKeyPressed</span>

    private void BtnCariKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_BtnCariKeyPressed
<span class="nc bnc" id="L561" title="All 2 branches missed.">        if(evt.getKeyCode()==KeyEvent.VK_SPACE){</span>
<span class="nc" id="L562">            BtnCari1ActionPerformed(null);</span>
        }else{
<span class="nc" id="L564">            Valid.pindah(evt, BtnSimpan,BtnKeluar);</span>
        }
<span class="nc" id="L566">    }//GEN-LAST:event_BtnCariKeyPressed</span>

private void TCariKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TCariKeyPressed
<span class="nc bnc" id="L569" title="All 2 branches missed.">       if(evt.getKeyCode()==KeyEvent.VK_ENTER){</span>
<span class="nc" id="L570">            tampil();</span>
<span class="nc bnc" id="L571" title="All 2 branches missed.">        }else if(evt.getKeyCode()==KeyEvent.VK_PAGE_DOWN){</span>
<span class="nc" id="L572">            BtnCari1.requestFocus();</span>
<span class="nc bnc" id="L573" title="All 2 branches missed.">        }else if(evt.getKeyCode()==KeyEvent.VK_PAGE_UP){</span>
<span class="nc" id="L574">            BtnKeluar.requestFocus();</span>
<span class="nc bnc" id="L575" title="All 2 branches missed.">        }else if(evt.getKeyCode()==KeyEvent.VK_UP){</span>
<span class="nc" id="L576">            tbDokter.requestFocus();</span>
        }
<span class="nc" id="L578">}//GEN-LAST:event_TCariKeyPressed</span>

private void BtnCari1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnCari1ActionPerformed
<span class="nc" id="L581">        tampil();</span>
<span class="nc" id="L582">}//GEN-LAST:event_BtnCari1ActionPerformed</span>

private void BtnCari1KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_BtnCari1KeyPressed
<span class="nc bnc" id="L585" title="All 2 branches missed.">        if(evt.getKeyCode()==KeyEvent.VK_SPACE){</span>
<span class="nc" id="L586">            tampil();</span>
        }else{
<span class="nc" id="L588">            Valid.pindah(evt, TCari, BtnSimpan);</span>
        }
<span class="nc" id="L590">}//GEN-LAST:event_BtnCari1KeyPressed</span>

private void catatanKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_catatanKeyPressed
<span class="nc" id="L593">        Valid.pindah(evt, kdgudang,BtnSimpan);</span>
<span class="nc" id="L594">}//GEN-LAST:event_catatanKeyPressed</span>

private void TglKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TglKeyPressed
<span class="nc" id="L597">        Valid.pindah(evt,TCari,kdgudang);</span>
<span class="nc" id="L598">}//GEN-LAST:event_TglKeyPressed</span>

private void ppBersihkanActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ppBersihkanActionPerformed
<span class="nc" id="L601">            int row2=tbDokter.getRowCount();</span>
<span class="nc bnc" id="L602" title="All 2 branches missed.">            for(int r=0;r&lt;row2;r++){ </span>
<span class="nc" id="L603">                tbDokter.setValueAt(&quot;&quot;,r,0);</span>
            }
<span class="nc" id="L605">}//GEN-LAST:event_ppBersihkanActionPerformed</span>

private void kdgudangKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_kdgudangKeyPressed
<span class="nc bnc" id="L608" title="All 2 branches missed.">    if(evt.getKeyCode()==KeyEvent.VK_PAGE_DOWN){</span>
<span class="nc" id="L609">        Sequel.cariIsi(&quot;select bangsal.nm_bangsal from bangsal where bangsal.kd_bangsal=?&quot;,nmgudang,kdgudang.getText());</span>
<span class="nc" id="L610">        tampil();</span>
<span class="nc bnc" id="L611" title="All 2 branches missed.">    }else if(evt.getKeyCode()==KeyEvent.VK_PAGE_UP){</span>
<span class="nc" id="L612">        Sequel.cariIsi(&quot;select bangsal.nm_bangsal from bangsal where bangsal.kd_bangsal=?&quot;,nmgudang,kdgudang.getText());</span>
<span class="nc" id="L613">        tampil();</span>
<span class="nc" id="L614">        Tgl.requestFocus();</span>
<span class="nc bnc" id="L615" title="All 2 branches missed.">    }else if(evt.getKeyCode()==KeyEvent.VK_ENTER){</span>
<span class="nc" id="L616">        Sequel.cariIsi(&quot;select bangsal.nm_bangsal from bangsal where bangsal.kd_bangsal=?&quot;,nmgudang,kdgudang.getText());</span>
<span class="nc" id="L617">        tampil();</span>
<span class="nc" id="L618">        BtnSimpan.requestFocus();</span>
    }
<span class="nc" id="L620">}//GEN-LAST:event_kdgudangKeyPressed</span>

private void BtnGudangActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnGudangActionPerformed
<span class="nc" id="L623">    var.setStatus(true);</span>
<span class="nc" id="L624">    bangsal.tampil();</span>
<span class="nc" id="L625">    bangsal.emptTeks();</span>
<span class="nc" id="L626">    bangsal.setSize(internalFrame1.getWidth()-40,internalFrame1.getHeight()-40);</span>
<span class="nc" id="L627">    bangsal.setLocationRelativeTo(internalFrame1);</span>
<span class="nc" id="L628">    bangsal.setAlwaysOnTop(false);</span>
<span class="nc" id="L629">    bangsal.setVisible(true);</span>
<span class="nc" id="L630">}//GEN-LAST:event_BtnGudangActionPerformed</span>

    /**
    * @param args the command line arguments
    */
    public static void main(String args[]) {
<span class="nc" id="L636">        java.awt.EventQueue.invokeLater(() -&gt; {</span>
            DlgInputStok dialog = new DlgInputStok(new javax.swing.JFrame(), true);
<span class="nc" id="L638">            dialog.addWindowListener(new java.awt.event.WindowAdapter() {</span>
                @Override
                public void windowClosing(java.awt.event.WindowEvent e) {
<span class="nc" id="L641">                    System.exit(0);</span>
<span class="nc" id="L642">                }</span>
            });
            dialog.setVisible(true);
        });
<span class="nc" id="L646">    }</span>

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private widget.Button BtnCari;
    private widget.Button BtnCari1;
    private widget.Button BtnGudang;
    private widget.Button BtnKeluar;
    private widget.Button BtnSimpan;
    private widget.TextBox Kd2;
    private widget.Label LTotal;
    private javax.swing.JPopupMenu Popup;
    private widget.TextBox TCari;
    private widget.Tanggal Tgl;
    private widget.TextBox catatan;
    private widget.InternalFrame internalFrame1;
    private javax.swing.JPanel jPanel1;
    private widget.TextBox kdgudang;
    private widget.Label label10;
    private widget.Label label11;
    private widget.Label label13;
    private widget.Label label18;
    private widget.Label label21;
    private widget.Label label9;
    private widget.TextBox nmgudang;
    private widget.panelisi panelisi1;
    private widget.panelisi panelisi3;
    private widget.panelisi panelisi5;
    private javax.swing.JMenuItem ppBersihkan;
    private widget.ScrollPane scrollPane1;
    private widget.Table tbDokter;
    // End of variables declaration//GEN-END:variables

    public void tampil() {
<span class="nc" id="L679">        jml=0;</span>
<span class="nc bnc" id="L680" title="All 2 branches missed.">        for(i=0;i&lt;tbDokter.getRowCount();i++){</span>
<span class="nc bnc" id="L681" title="All 2 branches missed.">            if(!tbDokter.getValueAt(i,0).toString().equals(&quot;&quot;)){</span>
<span class="nc" id="L682">                jml++;</span>
            }
        }
<span class="nc" id="L685">        real=new String[jml];</span>
<span class="nc" id="L686">        kodebarang=new String[jml];</span>
<span class="nc" id="L687">        namabarang=new String[jml];</span>
<span class="nc" id="L688">        kategori=new String[jml];</span>
<span class="nc" id="L689">        satuan=new String[jml];</span>
<span class="nc" id="L690">        hargabeli=new String[jml];</span>
<span class="nc" id="L691">        stok=new String[jml];</span>
<span class="nc" id="L692">        selisih=new String[jml];</span>
<span class="nc" id="L693">        nomihilang=new String[jml];</span>
        
<span class="nc" id="L695">        index=0;        </span>
<span class="nc bnc" id="L696" title="All 2 branches missed.">        for(i=0;i&lt;tbDokter.getRowCount();i++){</span>
<span class="nc bnc" id="L697" title="All 2 branches missed.">            if(!tbDokter.getValueAt(i,0).toString().equals(&quot;&quot;)){</span>
<span class="nc" id="L698">                real[index]=tbDokter.getValueAt(i,0).toString();</span>
<span class="nc" id="L699">                kodebarang[index]=tbDokter.getValueAt(i,1).toString();</span>
<span class="nc" id="L700">                namabarang[index]=tbDokter.getValueAt(i,2).toString();</span>
<span class="nc" id="L701">                kategori[index]=tbDokter.getValueAt(i,3).toString();</span>
<span class="nc" id="L702">                satuan[index]=tbDokter.getValueAt(i,4).toString();</span>
<span class="nc" id="L703">                hargabeli[index]=tbDokter.getValueAt(i,5).toString();</span>
<span class="nc" id="L704">                stok[index]=tbDokter.getValueAt(i,6).toString();</span>
<span class="nc" id="L705">                selisih[index]=tbDokter.getValueAt(i,7).toString();</span>
<span class="nc" id="L706">                nomihilang[index]=tbDokter.getValueAt(i,8).toString();</span>
<span class="nc" id="L707">                index++;</span>
            }
        }
        
<span class="nc" id="L711">        Valid.tabelKosong(tabMode);</span>
<span class="nc bnc" id="L712" title="All 2 branches missed.">        for(i=0;i&lt;jml;i++){</span>
<span class="nc" id="L713">            String[] data={real[i],kodebarang[i],namabarang[i],kategori[i],satuan[i],hargabeli[i],</span>
                           stok[i],selisih[i],nomihilang[i]};
<span class="nc" id="L715">            tabMode.addRow(data);</span>
        }
        try{            
<span class="nc" id="L718">            pstampil.setString(1,&quot;%&quot;+TCari.getText().trim()+&quot;%&quot;);</span>
<span class="nc" id="L719">            pstampil.setString(2,&quot;%&quot;+TCari.getText().trim()+&quot;%&quot;);</span>
<span class="nc" id="L720">            pstampil.setString(3,&quot;%&quot;+TCari.getText().trim()+&quot;%&quot;);</span>
<span class="nc" id="L721">            pstampil.setString(4,&quot;%&quot;+TCari.getText().trim()+&quot;%&quot;);</span>
<span class="nc" id="L722">            rstampil=pstampil.executeQuery();</span>
<span class="nc bnc" id="L723" title="All 2 branches missed.">            while(rstampil.next()){</span>
<span class="nc" id="L724">                stokbarang=0;                </span>
<span class="nc" id="L725">                psstok.setString(1,kdgudang.getText());</span>
<span class="nc" id="L726">                psstok.setString(2,rstampil.getString(&quot;kode_brng&quot;));</span>
<span class="nc" id="L727">                rsstok=psstok.executeQuery();</span>
<span class="nc bnc" id="L728" title="All 2 branches missed.">                if(rsstok.next()){</span>
<span class="nc" id="L729">                    stokbarang=rsstok.getDouble(1);</span>
                }                
<span class="nc" id="L731">                tabMode.addRow(new Object[]{&quot;&quot;,rstampil.getString(&quot;kode_brng&quot;),</span>
<span class="nc" id="L732">                               rstampil.getString(&quot;nama_brng&quot;),</span>
<span class="nc" id="L733">                               rstampil.getString(&quot;nama&quot;),</span>
<span class="nc" id="L734">                               rstampil.getString(&quot;kode_sat&quot;),</span>
<span class="nc" id="L735">                               rstampil.getString(&quot;h_beli&quot;),stokbarang,&quot;0&quot;,&quot;0&quot;,stokbarang});</span>
            }                
<span class="nc" id="L737">        }catch(SQLException e){</span>
<span class="nc" id="L738">            System.out.println(&quot;Error : &quot;+e);</span>
<span class="nc" id="L739">        }</span>
        
<span class="nc" id="L741">    }</span>
    
       
    private void getData(){
<span class="nc" id="L745">        i=tbDokter.getSelectedRow();</span>
<span class="nc bnc" id="L746" title="All 2 branches missed.">        if(nmgudang.getText().trim().equals(&quot;&quot;)){</span>
<span class="nc" id="L747">            Valid.textKosong(kdgudang,&quot;Lokasi&quot;);</span>
<span class="nc bnc" id="L748" title="All 2 branches missed.">            for(index=0;index&lt;tbDokter.getRowCount();index++){   </span>
<span class="nc" id="L749">                    tbDokter.setValueAt(&quot;&quot;,index,0);        </span>
            }
<span class="nc bnc" id="L751" title="All 2 branches missed.">        }else if(i!= -1){   </span>
<span class="nc bnc" id="L752" title="All 2 branches missed.">            if(tbDokter.getSelectedColumn()==1){    </span>
<span class="nc bnc" id="L753" title="All 2 branches missed.">               if(!tbDokter.getValueAt(i,0).toString().equals(&quot;&quot;)){</span>
<span class="nc" id="L754">                   tbDokter.setValueAt(Double.toString(Double.parseDouble(tbDokter.getValueAt(tbDokter.getSelectedRow(),6).toString())-</span>
<span class="nc" id="L755">                           Double.parseDouble(tbDokter.getValueAt(tbDokter.getSelectedRow(),0).toString())),tbDokter.getSelectedRow(),7);  </span>
<span class="nc" id="L756">                   if((Double.parseDouble(tbDokter.getValueAt(tbDokter.getSelectedRow(),6).toString())-</span>
<span class="nc bnc" id="L757" title="All 2 branches missed.">                           Double.parseDouble(tbDokter.getValueAt(tbDokter.getSelectedRow(),0).toString()))&gt;0){</span>
<span class="nc" id="L758">                        tbDokter.setValueAt(Double.toString((Double.parseDouble(tbDokter.getValueAt(tbDokter.getSelectedRow(),6).toString())-</span>
<span class="nc" id="L759">                                Double.parseDouble(tbDokter.getValueAt(tbDokter.getSelectedRow(),0).toString()))*</span>
<span class="nc" id="L760">                                Double.parseDouble(tbDokter.getValueAt(tbDokter.getSelectedRow(),5).toString())),tbDokter.getSelectedRow(),8);                        </span>
                   }else{                       
<span class="nc" id="L762">                        tbDokter.setValueAt(&quot;0&quot;,tbDokter.getSelectedRow(),8);   </span>
                   }
               }                 
            }              
            
<span class="nc" id="L767">            ttl=0;</span>
<span class="nc" id="L768">            y=0;</span>
<span class="nc bnc" id="L769" title="All 2 branches missed.">            for(i=0;i&lt;tbDokter.getRowCount();i++){ </span>
<span class="nc bnc" id="L770" title="All 2 branches missed.">                if(!tbDokter.getValueAt(i,8).toString().isEmpty()){</span>
<span class="nc" id="L771">                    y=Double.parseDouble(tbDokter.getValueAt(i,8).toString());                </span>
<span class="nc bnc" id="L772" title="All 2 branches missed.">                }else if(tbDokter.getValueAt(i,8).toString().isEmpty()){</span>
<span class="nc" id="L773">                    y=0;                </span>
                }
<span class="nc" id="L775">                ttl=ttl+y;</span>
            }
<span class="nc" id="L777">            LTotal.setText(Valid.SetAngka(ttl));</span>
        }
<span class="nc" id="L779">    }</span>
    
     
    public void isCek(){
<span class="nc" id="L783">         BtnSimpan.setEnabled(var.getstockopname());   </span>
<span class="nc" id="L784">    }</span>

    
    

 
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.1.201405082137</span></div></body></html>