<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>DlgPenjualan.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCoverage analysis of project &quot;KhanzaHMS&quot; (powered by JaCoCo from EclEmma)</a> &gt; <a href="index.source.html" class="el_package">inventory</a> &gt; <span class="el_source">DlgPenjualan.java</span></div><h1>DlgPenjualan.java</h1><pre class="source lang-java linenums">package inventory;
import fungsi.WarnaTable;
import fungsi.batasInput;
import fungsi.koneksiDB;
import fungsi.sekuel;
import fungsi.validasi;
import fungsi.var;
import java.awt.Cursor;
import java.awt.Dimension;
import java.awt.Toolkit;
import java.awt.event.KeyEvent;
import java.awt.event.MouseEvent;
import java.awt.event.MouseListener;
import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.text.DecimalFormat;
import javax.swing.JOptionPane;
import javax.swing.JTable;
import javax.swing.event.DocumentEvent;
import javax.swing.table.DefaultTableModel;
import javax.swing.table.TableColumn;
import keuangan.Jurnal;
import khanzahms.DlgCariBangsal;

public class DlgPenjualan extends javax.swing.JDialog {
    private final DefaultTableModel tabMode;
<span class="nc" id="L29">    private sekuel Sequel=new sekuel();</span>
<span class="nc" id="L30">    private validasi Valid=new validasi();</span>
<span class="nc" id="L31">    private Jurnal jur=new Jurnal();</span>
<span class="nc" id="L32">    private Connection koneksi=koneksiDB.condb();</span>

    /** Creates new form DlgProgramStudi
     * @param parent
     * @param modal */
    public DlgPenjualan(java.awt.Frame parent, boolean modal) {
<span class="nc" id="L38">        super(parent, modal);</span>
<span class="nc" id="L39">        initComponents();</span>

<span class="nc" id="L41">        Object[] row={&quot;Jumlah&quot;,&quot;Kode Barang&quot;,&quot;Nama Barang&quot;,&quot;Kategori&quot;,&quot;Satuan&quot;,&quot;Harga(Rp)&quot;,</span>
                    &quot;Subtotal(Rp)&quot;,&quot;Ptg(%)&quot;,&quot;Potongan(Rp)&quot;,&quot;Tambahan(Rp)&quot;,&quot;Total(Rp)&quot;,&quot;Stok&quot;};
<span class="nc" id="L43">        tabMode=new DefaultTableModel(null,row){</span>
            @Override public boolean isCellEditable(int rowIndex, int colIndex){
<span class="nc" id="L45">                boolean a = false;</span>
<span class="nc bnc" id="L46" title="All 10 branches missed.">                if ((colIndex==0)||(colIndex==5)||(colIndex==7)||(colIndex==8)||(colIndex==9)) {</span>
<span class="nc" id="L47">                    a=true;</span>
                }
<span class="nc" id="L49">                return a;</span>
             }
        };
<span class="nc" id="L52">        tbDokter.setModel(tabMode);</span>

<span class="nc" id="L54">        tbDokter.setPreferredScrollableViewportSize(new Dimension(800,800));</span>
<span class="nc" id="L55">        tbDokter.setAutoResizeMode(JTable.AUTO_RESIZE_OFF);</span>

<span class="nc bnc" id="L57" title="All 2 branches missed.">        for (int i = 0; i &lt; 12; i++) {</span>
<span class="nc" id="L58">            TableColumn column = tbDokter.getColumnModel().getColumn(i);</span>
<span class="nc bnc" id="L59" title="All 2 branches missed.">            if(i==0){</span>
<span class="nc" id="L60">                column.setPreferredWidth(60);</span>
<span class="nc bnc" id="L61" title="All 2 branches missed.">            }else if(i==1){</span>
<span class="nc" id="L62">                column.setPreferredWidth(90);</span>
<span class="nc bnc" id="L63" title="All 2 branches missed.">            }else if(i==2){</span>
<span class="nc" id="L64">                column.setPreferredWidth(250);</span>
<span class="nc bnc" id="L65" title="All 2 branches missed.">            }else if(i==3){</span>
<span class="nc" id="L66">                column.setPreferredWidth(100);</span>
<span class="nc bnc" id="L67" title="All 2 branches missed.">            }else if(i==4){</span>
<span class="nc" id="L68">                column.setPreferredWidth(100);</span>
<span class="nc bnc" id="L69" title="All 2 branches missed.">            }else if(i==5){</span>
<span class="nc" id="L70">                column.setPreferredWidth(100);</span>
<span class="nc bnc" id="L71" title="All 2 branches missed.">            }else if(i==6){</span>
<span class="nc" id="L72">                column.setPreferredWidth(110);</span>
<span class="nc bnc" id="L73" title="All 2 branches missed.">            }else if(i==7){</span>
<span class="nc" id="L74">                column.setPreferredWidth(70);</span>
<span class="nc bnc" id="L75" title="All 2 branches missed.">            }else if(i==8){</span>
<span class="nc" id="L76">                column.setPreferredWidth(110);</span>
<span class="nc bnc" id="L77" title="All 2 branches missed.">            }else if(i==9){</span>
<span class="nc" id="L78">                column.setPreferredWidth(110);</span>
<span class="nc bnc" id="L79" title="All 2 branches missed.">            }else if(i==10){</span>
<span class="nc" id="L80">                column.setPreferredWidth(140);</span>
<span class="nc bnc" id="L81" title="All 2 branches missed.">            }else if(i==11){</span>
<span class="nc" id="L82">                column.setPreferredWidth(60);</span>
            }
        }
<span class="nc" id="L85">        tbDokter.setDefaultRenderer(Object.class, new WarnaTable());</span>

<span class="nc" id="L87">        NoNota.setDocument(new batasInput((byte)8).getKata(NoNota));</span>
<span class="nc" id="L88">        kdmem.setDocument(new batasInput((byte)10).getKata(kdmem));</span>
<span class="nc" id="L89">        kdgudang.setDocument(new batasInput((byte)5).getKata(kdgudang));</span>
<span class="nc" id="L90">        catatan.setDocument(new batasInput((byte)40).getKata(catatan));</span>
<span class="nc" id="L91">        Bayar.setDocument(new batasInput((byte)14).getOnlyAngka(Bayar));   </span>
<span class="nc" id="L92">        TCari.setDocument(new batasInput((byte)100).getKata(TCari)); </span>
<span class="nc" id="L93">        TCari.getDocument().addDocumentListener(new javax.swing.event.DocumentListener(){</span>

            @Override
            public void insertUpdate(DocumentEvent e) {
<span class="nc" id="L97">                tampil();</span>
<span class="nc" id="L98">            }</span>

            @Override
            public void removeUpdate(DocumentEvent e) {
<span class="nc" id="L102">                tampil();</span>
<span class="nc" id="L103">            }</span>

            @Override
            public void changedUpdate(DocumentEvent e) {
<span class="nc" id="L107">                tampil();</span>
<span class="nc" id="L108">            }</span>

        });
        
<span class="nc" id="L112">        Bayar.getDocument().addDocumentListener(new javax.swing.event.DocumentListener(){</span>
            @Override
<span class="nc" id="L114">            public void insertUpdate(DocumentEvent e) {isKembali();}</span>
            @Override
<span class="nc" id="L116">            public void removeUpdate(DocumentEvent e) {isKembali();}</span>
            @Override
<span class="nc" id="L118">            public void changedUpdate(DocumentEvent e) {isKembali();}</span>
        });
        
<span class="nc" id="L121">        carijual.pasien.getTable().addMouseListener(new MouseListener() {</span>
            @Override
            public void mouseClicked(MouseEvent e) {
<span class="nc" id="L124">                kdmem.setText(carijual.pasien.getTextField().getText());</span>
<span class="nc" id="L125">                Sequel.cariIsi(&quot;select nm_pasien from pasien where no_rkm_medis=?&quot;, nmmem,kdmem.getText());</span>
<span class="nc" id="L126">            }</span>

            @Override
<span class="nc" id="L129">            public void mousePressed(MouseEvent e) {}</span>
            @Override
<span class="nc" id="L131">            public void mouseReleased(MouseEvent e) {}</span>
            @Override
<span class="nc" id="L133">            public void mouseEntered(MouseEvent e) {}</span>
            @Override
<span class="nc" id="L135">            public void mouseExited(MouseEvent e) {}</span>
        });        
        
<span class="nc" id="L138">        carijual.petugas.getTable().addMouseListener(new MouseListener() {</span>
            @Override
            public void mouseClicked(MouseEvent e) { 
<span class="nc" id="L141">                kdptg.setText(carijual.petugas.getTextField().getText());</span>
<span class="nc" id="L142">                Sequel.cariIsi(&quot;select nama from petugas where nip=?&quot;,nmptg,kdptg.getText());</span>
<span class="nc" id="L143">            }</span>

            @Override
<span class="nc" id="L146">            public void mousePressed(MouseEvent e) {}</span>
            @Override
<span class="nc" id="L148">            public void mouseReleased(MouseEvent e) {}</span>
            @Override
<span class="nc" id="L150">            public void mouseEntered(MouseEvent e) {}</span>
            @Override
<span class="nc" id="L152">            public void mouseExited(MouseEvent e) {}</span>
        });    
        
<span class="nc" id="L155">        bangsal.getTable().addMouseListener(new MouseListener() {</span>
            @Override
            public void mouseClicked(MouseEvent e) { 
<span class="nc" id="L158">                    kdgudang.setText(bangsal.getTextField().getText());</span>
<span class="nc" id="L159">                    Sequel.cariIsi(&quot;select bangsal.nm_bangsal from bangsal where bangsal.kd_bangsal=?&quot;,nmgudang,kdgudang.getText());</span>
<span class="nc" id="L160">                    tampil();</span>
<span class="nc" id="L161">            }</span>

            @Override
<span class="nc" id="L164">            public void mousePressed(MouseEvent e) {}</span>
            @Override
<span class="nc" id="L166">            public void mouseReleased(MouseEvent e) {}</span>
            @Override
<span class="nc" id="L168">            public void mouseEntered(MouseEvent e) {}</span>
            @Override
<span class="nc" id="L170">            public void mouseExited(MouseEvent e) {}</span>
        });
        
<span class="nc" id="L173">        TCari.requestFocus();</span>
<span class="nc" id="L174">    }</span>
<span class="nc" id="L175">    private Dimension screen=Toolkit.getDefaultToolkit().getScreenSize();</span>
<span class="nc" id="L176">    private DlgCariPenjualan carijual=new DlgCariPenjualan(null,false);</span>
<span class="nc" id="L177">    private DecimalFormat df2 = new DecimalFormat(&quot;###,###,###,###,###,###,###&quot;);</span>
<span class="nc" id="L178">    private DecimalFormat df3 = new DecimalFormat(&quot;###&quot;);</span>
<span class="nc" id="L179">    private DlgCariBangsal bangsal=new DlgCariBangsal(null,false);</span>
<span class="nc" id="L180">    private double ttl=0,y=0,stokbarang=0;</span>
<span class="nc" id="L181">    private int jml=0;</span>
    private String[] kodebarang,namabarang,kategori,satuan,harga,jumlah,subtotal,diskon,besardiskon,totaljual,tambahan,stok;

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings(&quot;unchecked&quot;)
    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents
    private void initComponents() {

<span class="nc" id="L193">        Kd2 = new widget.TextBox();</span>
<span class="nc" id="L194">        Popup = new javax.swing.JPopupMenu();</span>
<span class="nc" id="L195">        ppBersihkan = new javax.swing.JMenuItem();</span>
<span class="nc" id="L196">        internalFrame1 = new widget.InternalFrame();</span>
<span class="nc" id="L197">        scrollPane1 = new widget.ScrollPane();</span>
<span class="nc" id="L198">        tbDokter = new widget.Table();</span>
<span class="nc" id="L199">        jPanel1 = new javax.swing.JPanel();</span>
<span class="nc" id="L200">        panelisi1 = new widget.panelisi();</span>
<span class="nc" id="L201">        BtnNota = new widget.Button();</span>
<span class="nc" id="L202">        BtnSimpan = new widget.Button();</span>
<span class="nc" id="L203">        label13 = new widget.Label();</span>
<span class="nc" id="L204">        BtnCari = new widget.Button();</span>
<span class="nc" id="L205">        BtnKeluar = new widget.Button();</span>
<span class="nc" id="L206">        panelisi5 = new widget.panelisi();</span>
<span class="nc" id="L207">        label9 = new widget.Label();</span>
<span class="nc" id="L208">        TCari = new widget.TextBox();</span>
<span class="nc" id="L209">        BtnCari1 = new widget.Button();</span>
<span class="nc" id="L210">        label10 = new widget.Label();</span>
<span class="nc" id="L211">        LTotal = new widget.Label();</span>
<span class="nc" id="L212">        label19 = new widget.Label();</span>
<span class="nc" id="L213">        Bayar = new widget.TextBox();</span>
<span class="nc" id="L214">        label20 = new widget.Label();</span>
<span class="nc" id="L215">        LKembali = new widget.Label();</span>
<span class="nc" id="L216">        panelisi3 = new widget.panelisi();</span>
<span class="nc" id="L217">        label15 = new widget.Label();</span>
<span class="nc" id="L218">        NoNota = new widget.TextBox();</span>
<span class="nc" id="L219">        label14 = new widget.Label();</span>
<span class="nc" id="L220">        kdmem = new widget.TextBox();</span>
<span class="nc" id="L221">        kdptg = new widget.TextBox();</span>
<span class="nc" id="L222">        label16 = new widget.Label();</span>
<span class="nc" id="L223">        nmmem = new widget.TextBox();</span>
<span class="nc" id="L224">        nmptg = new widget.TextBox();</span>
<span class="nc" id="L225">        BtnMem = new widget.Button();</span>
<span class="nc" id="L226">        BtnPtg = new widget.Button();</span>
<span class="nc" id="L227">        Jenisjual = new widget.ComboBox();</span>
<span class="nc" id="L228">        label18 = new widget.Label();</span>
<span class="nc" id="L229">        catatan = new widget.TextBox();</span>
<span class="nc" id="L230">        label12 = new widget.Label();</span>
<span class="nc" id="L231">        label11 = new widget.Label();</span>
<span class="nc" id="L232">        Tgl = new widget.Tanggal();</span>
<span class="nc" id="L233">        label21 = new widget.Label();</span>
<span class="nc" id="L234">        kdgudang = new widget.TextBox();</span>
<span class="nc" id="L235">        nmgudang = new widget.TextBox();</span>
<span class="nc" id="L236">        BtnGudang = new widget.Button();</span>

<span class="nc" id="L238">        Kd2.setFont(new java.awt.Font(&quot;Tahoma&quot;, 0, 12)); // NOI18N</span>
<span class="nc" id="L239">        Kd2.setName(&quot;Kd2&quot;); // NOI18N</span>
<span class="nc" id="L240">        Kd2.setPreferredSize(new java.awt.Dimension(207, 23));</span>

<span class="nc" id="L242">        Popup.setName(&quot;Popup&quot;); // NOI18N</span>

<span class="nc" id="L244">        ppBersihkan.setBackground(new java.awt.Color(255, 255, 255));</span>
<span class="nc" id="L245">        ppBersihkan.setFont(new java.awt.Font(&quot;Tahoma&quot;, 0, 12)); // NOI18N</span>
<span class="nc" id="L246">        ppBersihkan.setForeground(new java.awt.Color(102, 51, 0));</span>
<span class="nc" id="L247">        ppBersihkan.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/stop_f2.png&quot;))); // NOI18N</span>
<span class="nc" id="L248">        ppBersihkan.setText(&quot;Bersihkan Jumlah&quot;);</span>
<span class="nc" id="L249">        ppBersihkan.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);</span>
<span class="nc" id="L250">        ppBersihkan.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);</span>
<span class="nc" id="L251">        ppBersihkan.setIconTextGap(8);</span>
<span class="nc" id="L252">        ppBersihkan.setName(&quot;ppBersihkan&quot;); // NOI18N</span>
<span class="nc" id="L253">        ppBersihkan.setPreferredSize(new java.awt.Dimension(200, 25));</span>
<span class="nc" id="L254">        ppBersihkan.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L256">                ppBersihkanActionPerformed(evt);</span>
<span class="nc" id="L257">            }</span>
        });
<span class="nc" id="L259">        Popup.add(ppBersihkan);</span>

<span class="nc" id="L261">        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);</span>
<span class="nc" id="L262">        setUndecorated(true);</span>
<span class="nc" id="L263">        setResizable(false);</span>

<span class="nc" id="L265">        internalFrame1.setBorder(javax.swing.BorderFactory.createTitledBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(240, 245, 235)), &quot;::[ Transaksi Penjualan Barang ]::&quot;, javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font(&quot;Tahoma&quot;, 0, 11), new java.awt.Color(50, 70, 40))); // NOI18N</span>
<span class="nc" id="L266">        internalFrame1.setName(&quot;internalFrame1&quot;); // NOI18N</span>
<span class="nc" id="L267">        internalFrame1.setLayout(new java.awt.BorderLayout(1, 1));</span>

<span class="nc" id="L269">        scrollPane1.setComponentPopupMenu(Popup);</span>
<span class="nc" id="L270">        scrollPane1.setName(&quot;scrollPane1&quot;); // NOI18N</span>
<span class="nc" id="L271">        scrollPane1.setOpaque(true);</span>

<span class="nc" id="L273">        tbDokter.setModel(new javax.swing.table.DefaultTableModel(</span>
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
<span class="nc" id="L284">        tbDokter.setToolTipText(&quot;Silahkan klik untuk memilih data yang mau diedit ataupun dihapus&quot;);</span>
<span class="nc" id="L285">        tbDokter.setComponentPopupMenu(Popup);</span>
<span class="nc" id="L286">        tbDokter.setName(&quot;tbDokter&quot;); // NOI18N</span>
<span class="nc" id="L287">        tbDokter.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mouseClicked(java.awt.event.MouseEvent evt) {
<span class="nc" id="L289">                tbDokterMouseClicked(evt);</span>
<span class="nc" id="L290">            }</span>
        });
<span class="nc" id="L292">        tbDokter.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L294">                tbDokterKeyPressed(evt);</span>
<span class="nc" id="L295">            }</span>
        });
<span class="nc" id="L297">        scrollPane1.setViewportView(tbDokter);</span>

<span class="nc" id="L299">        internalFrame1.add(scrollPane1, java.awt.BorderLayout.CENTER);</span>

<span class="nc" id="L301">        jPanel1.setName(&quot;jPanel1&quot;); // NOI18N</span>
<span class="nc" id="L302">        jPanel1.setOpaque(false);</span>
<span class="nc" id="L303">        jPanel1.setPreferredSize(new java.awt.Dimension(816, 102));</span>
<span class="nc" id="L304">        jPanel1.setLayout(new java.awt.BorderLayout(1, 1));</span>

<span class="nc" id="L306">        panelisi1.setName(&quot;panelisi1&quot;); // NOI18N</span>
<span class="nc" id="L307">        panelisi1.setPreferredSize(new java.awt.Dimension(100, 56));</span>
<span class="nc" id="L308">        panelisi1.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEFT, 5, 9));</span>

<span class="nc" id="L310">        BtnNota.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/Agenda-1-16x16.png&quot;))); // NOI18N</span>
<span class="nc" id="L311">        BtnNota.setMnemonic('S');</span>
<span class="nc" id="L312">        BtnNota.setText(&quot;Nota&quot;);</span>
<span class="nc" id="L313">        BtnNota.setToolTipText(&quot;Alt+S&quot;);</span>
<span class="nc" id="L314">        BtnNota.setName(&quot;BtnNota&quot;); // NOI18N</span>
<span class="nc" id="L315">        BtnNota.setPreferredSize(new java.awt.Dimension(100, 30));</span>
<span class="nc" id="L316">        BtnNota.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L318">                BtnNotaActionPerformed(evt);</span>
<span class="nc" id="L319">            }</span>
        });
<span class="nc" id="L321">        BtnNota.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L323">                BtnNotaKeyPressed(evt);</span>
<span class="nc" id="L324">            }</span>
        });
<span class="nc" id="L326">        panelisi1.add(BtnNota);</span>

<span class="nc" id="L328">        BtnSimpan.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/save-16x16.png&quot;))); // NOI18N</span>
<span class="nc" id="L329">        BtnSimpan.setMnemonic('S');</span>
<span class="nc" id="L330">        BtnSimpan.setText(&quot;Simpan&quot;);</span>
<span class="nc" id="L331">        BtnSimpan.setToolTipText(&quot;Alt+S&quot;);</span>
<span class="nc" id="L332">        BtnSimpan.setName(&quot;BtnSimpan&quot;); // NOI18N</span>
<span class="nc" id="L333">        BtnSimpan.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L335">                BtnSimpanActionPerformed(evt);</span>
<span class="nc" id="L336">            }</span>
        });
<span class="nc" id="L338">        BtnSimpan.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L340">                BtnSimpanKeyPressed(evt);</span>
<span class="nc" id="L341">            }</span>
        });
<span class="nc" id="L343">        panelisi1.add(BtnSimpan);</span>

<span class="nc" id="L345">        label13.setFont(new java.awt.Font(&quot;Tahoma&quot;, 0, 14)); // NOI18N</span>
<span class="nc" id="L346">        label13.setName(&quot;label13&quot;); // NOI18N</span>
<span class="nc" id="L347">        label13.setPreferredSize(new java.awt.Dimension(387, 26));</span>
<span class="nc" id="L348">        panelisi1.add(label13);</span>

<span class="nc" id="L350">        BtnCari.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/Search-16x16.png&quot;))); // NOI18N</span>
<span class="nc" id="L351">        BtnCari.setMnemonic('E');</span>
<span class="nc" id="L352">        BtnCari.setText(&quot;Cari&quot;);</span>
<span class="nc" id="L353">        BtnCari.setToolTipText(&quot;Alt+E&quot;);</span>
<span class="nc" id="L354">        BtnCari.setName(&quot;BtnCari&quot;); // NOI18N</span>
<span class="nc" id="L355">        BtnCari.setPreferredSize(new java.awt.Dimension(100, 30));</span>
<span class="nc" id="L356">        BtnCari.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L358">                BtnCariActionPerformed(evt);</span>
<span class="nc" id="L359">            }</span>
        });
<span class="nc" id="L361">        BtnCari.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L363">                BtnCariKeyPressed(evt);</span>
<span class="nc" id="L364">            }</span>
        });
<span class="nc" id="L366">        panelisi1.add(BtnCari);</span>

<span class="nc" id="L368">        BtnKeluar.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/exit.png&quot;))); // NOI18N</span>
<span class="nc" id="L369">        BtnKeluar.setMnemonic('K');</span>
<span class="nc" id="L370">        BtnKeluar.setText(&quot;Keluar&quot;);</span>
<span class="nc" id="L371">        BtnKeluar.setToolTipText(&quot;Alt+K&quot;);</span>
<span class="nc" id="L372">        BtnKeluar.setName(&quot;BtnKeluar&quot;); // NOI18N</span>
<span class="nc" id="L373">        BtnKeluar.setPreferredSize(new java.awt.Dimension(100, 30));</span>
<span class="nc" id="L374">        BtnKeluar.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L376">                BtnKeluarActionPerformed(evt);</span>
<span class="nc" id="L377">            }</span>
        });
<span class="nc" id="L379">        BtnKeluar.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L381">                BtnKeluarKeyPressed(evt);</span>
<span class="nc" id="L382">            }</span>
        });
<span class="nc" id="L384">        panelisi1.add(BtnKeluar);</span>

<span class="nc" id="L386">        jPanel1.add(panelisi1, java.awt.BorderLayout.PAGE_END);</span>

<span class="nc" id="L388">        panelisi5.setName(&quot;panelisi5&quot;); // NOI18N</span>
<span class="nc" id="L389">        panelisi5.setPreferredSize(new java.awt.Dimension(100, 54));</span>
<span class="nc" id="L390">        panelisi5.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.LEFT, 4, 9));</span>

<span class="nc" id="L392">        label9.setText(&quot;Key Word :&quot;);</span>
<span class="nc" id="L393">        label9.setName(&quot;label9&quot;); // NOI18N</span>
<span class="nc" id="L394">        label9.setPreferredSize(new java.awt.Dimension(70, 23));</span>
<span class="nc" id="L395">        panelisi5.add(label9);</span>

<span class="nc" id="L397">        TCari.setName(&quot;TCari&quot;); // NOI18N</span>
<span class="nc" id="L398">        TCari.setPreferredSize(new java.awt.Dimension(150, 23));</span>
<span class="nc" id="L399">        TCari.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L401">                TCariKeyPressed(evt);</span>
<span class="nc" id="L402">            }</span>
        });
<span class="nc" id="L404">        panelisi5.add(TCari);</span>

<span class="nc" id="L406">        BtnCari1.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/accept.png&quot;))); // NOI18N</span>
<span class="nc" id="L407">        BtnCari1.setMnemonic('1');</span>
<span class="nc" id="L408">        BtnCari1.setToolTipText(&quot;Alt+1&quot;);</span>
<span class="nc" id="L409">        BtnCari1.setName(&quot;BtnCari1&quot;); // NOI18N</span>
<span class="nc" id="L410">        BtnCari1.setPreferredSize(new java.awt.Dimension(28, 23));</span>
<span class="nc" id="L411">        BtnCari1.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L413">                BtnCari1ActionPerformed(evt);</span>
<span class="nc" id="L414">            }</span>
        });
<span class="nc" id="L416">        BtnCari1.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L418">                BtnCari1KeyPressed(evt);</span>
<span class="nc" id="L419">            }</span>
        });
<span class="nc" id="L421">        panelisi5.add(BtnCari1);</span>

<span class="nc" id="L423">        label10.setText(&quot;Grand Total :&quot;);</span>
<span class="nc" id="L424">        label10.setName(&quot;label10&quot;); // NOI18N</span>
<span class="nc" id="L425">        label10.setPreferredSize(new java.awt.Dimension(90, 23));</span>
<span class="nc" id="L426">        panelisi5.add(label10);</span>

<span class="nc" id="L428">        LTotal.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);</span>
<span class="nc" id="L429">        LTotal.setText(&quot;0&quot;);</span>
<span class="nc" id="L430">        LTotal.setName(&quot;LTotal&quot;); // NOI18N</span>
<span class="nc" id="L431">        LTotal.setPreferredSize(new java.awt.Dimension(125, 23));</span>
<span class="nc" id="L432">        panelisi5.add(LTotal);</span>

<span class="nc" id="L434">        label19.setText(&quot;Bayar :&quot;);</span>
<span class="nc" id="L435">        label19.setName(&quot;label19&quot;); // NOI18N</span>
<span class="nc" id="L436">        label19.setPreferredSize(new java.awt.Dimension(50, 23));</span>
<span class="nc" id="L437">        panelisi5.add(label19);</span>

<span class="nc" id="L439">        Bayar.setText(&quot;0&quot;);</span>
<span class="nc" id="L440">        Bayar.setName(&quot;Bayar&quot;); // NOI18N</span>
<span class="nc" id="L441">        Bayar.setPreferredSize(new java.awt.Dimension(120, 23));</span>
<span class="nc" id="L442">        panelisi5.add(Bayar);</span>

<span class="nc" id="L444">        label20.setText(&quot;Kembali :&quot;);</span>
<span class="nc" id="L445">        label20.setName(&quot;label20&quot;); // NOI18N</span>
<span class="nc" id="L446">        label20.setPreferredSize(new java.awt.Dimension(67, 23));</span>
<span class="nc" id="L447">        panelisi5.add(label20);</span>

<span class="nc" id="L449">        LKembali.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);</span>
<span class="nc" id="L450">        LKembali.setText(&quot;0&quot;);</span>
<span class="nc" id="L451">        LKembali.setName(&quot;LKembali&quot;); // NOI18N</span>
<span class="nc" id="L452">        LKembali.setPreferredSize(new java.awt.Dimension(125, 23));</span>
<span class="nc" id="L453">        panelisi5.add(LKembali);</span>

<span class="nc" id="L455">        jPanel1.add(panelisi5, java.awt.BorderLayout.CENTER);</span>

<span class="nc" id="L457">        internalFrame1.add(jPanel1, java.awt.BorderLayout.PAGE_END);</span>

<span class="nc" id="L459">        panelisi3.setName(&quot;panelisi3&quot;); // NOI18N</span>
<span class="nc" id="L460">        panelisi3.setPreferredSize(new java.awt.Dimension(89, 104));</span>
<span class="nc" id="L461">        panelisi3.setLayout(null);</span>

<span class="nc" id="L463">        label15.setText(&quot;No.Nota :&quot;);</span>
<span class="nc" id="L464">        label15.setName(&quot;label15&quot;); // NOI18N</span>
<span class="nc" id="L465">        label15.setPreferredSize(new java.awt.Dimension(60, 23));</span>
<span class="nc" id="L466">        panelisi3.add(label15);</span>
<span class="nc" id="L467">        label15.setBounds(0, 10, 70, 23);</span>

<span class="nc" id="L469">        NoNota.setName(&quot;NoNota&quot;); // NOI18N</span>
<span class="nc" id="L470">        NoNota.setPreferredSize(new java.awt.Dimension(207, 23));</span>
<span class="nc" id="L471">        NoNota.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L473">                NoNotaKeyPressed(evt);</span>
<span class="nc" id="L474">            }</span>
        });
<span class="nc" id="L476">        panelisi3.add(NoNota);</span>
<span class="nc" id="L477">        NoNota.setBounds(74, 10, 135, 23);</span>

<span class="nc" id="L479">        label14.setText(&quot;Petugas :&quot;);</span>
<span class="nc" id="L480">        label14.setName(&quot;label14&quot;); // NOI18N</span>
<span class="nc" id="L481">        label14.setPreferredSize(new java.awt.Dimension(70, 23));</span>
<span class="nc" id="L482">        panelisi3.add(label14);</span>
<span class="nc" id="L483">        label14.setBounds(376, 40, 60, 23);</span>

<span class="nc" id="L485">        kdmem.setName(&quot;kdmem&quot;); // NOI18N</span>
<span class="nc" id="L486">        kdmem.setPreferredSize(new java.awt.Dimension(80, 23));</span>
<span class="nc" id="L487">        kdmem.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L489">                kdmemKeyPressed(evt);</span>
<span class="nc" id="L490">            }</span>
        });
<span class="nc" id="L492">        panelisi3.add(kdmem);</span>
<span class="nc" id="L493">        kdmem.setBounds(439, 10, 100, 23);</span>

<span class="nc" id="L495">        kdptg.setName(&quot;kdptg&quot;); // NOI18N</span>
<span class="nc" id="L496">        kdptg.setPreferredSize(new java.awt.Dimension(80, 23));</span>
<span class="nc" id="L497">        kdptg.addMouseListener(new java.awt.event.MouseAdapter() {</span>
            public void mouseClicked(java.awt.event.MouseEvent evt) {
<span class="nc" id="L499">                kdptgMouseClicked(evt);</span>
<span class="nc" id="L500">            }</span>
        });
<span class="nc" id="L502">        kdptg.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L504">                kdptgKeyPressed(evt);</span>
<span class="nc" id="L505">            }</span>
        });
<span class="nc" id="L507">        panelisi3.add(kdptg);</span>
<span class="nc" id="L508">        kdptg.setBounds(439, 40, 100, 23);</span>

<span class="nc" id="L510">        label16.setText(&quot;Pasien :&quot;);</span>
<span class="nc" id="L511">        label16.setName(&quot;label16&quot;); // NOI18N</span>
<span class="nc" id="L512">        label16.setPreferredSize(new java.awt.Dimension(60, 23));</span>
<span class="nc" id="L513">        panelisi3.add(label16);</span>
<span class="nc" id="L514">        label16.setBounds(376, 10, 60, 23);</span>

<span class="nc" id="L516">        nmmem.setName(&quot;nmmem&quot;); // NOI18N</span>
<span class="nc" id="L517">        nmmem.setPreferredSize(new java.awt.Dimension(207, 23));</span>
<span class="nc" id="L518">        panelisi3.add(nmmem);</span>
<span class="nc" id="L519">        nmmem.setBounds(540, 10, 232, 23);</span>

<span class="nc" id="L521">        nmptg.setEditable(false);</span>
<span class="nc" id="L522">        nmptg.setName(&quot;nmptg&quot;); // NOI18N</span>
<span class="nc" id="L523">        nmptg.setPreferredSize(new java.awt.Dimension(207, 23));</span>
<span class="nc" id="L524">        panelisi3.add(nmptg);</span>
<span class="nc" id="L525">        nmptg.setBounds(540, 40, 232, 23);</span>

<span class="nc" id="L527">        BtnMem.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/190.png&quot;))); // NOI18N</span>
<span class="nc" id="L528">        BtnMem.setMnemonic('1');</span>
<span class="nc" id="L529">        BtnMem.setToolTipText(&quot;Alt+1&quot;);</span>
<span class="nc" id="L530">        BtnMem.setName(&quot;BtnMem&quot;); // NOI18N</span>
<span class="nc" id="L531">        BtnMem.setPreferredSize(new java.awt.Dimension(28, 23));</span>
<span class="nc" id="L532">        BtnMem.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L534">                BtnMemActionPerformed(evt);</span>
<span class="nc" id="L535">            }</span>
        });
<span class="nc" id="L537">        panelisi3.add(BtnMem);</span>
<span class="nc" id="L538">        BtnMem.setBounds(774, 10, 28, 23);</span>

<span class="nc" id="L540">        BtnPtg.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/190.png&quot;))); // NOI18N</span>
<span class="nc" id="L541">        BtnPtg.setMnemonic('2');</span>
<span class="nc" id="L542">        BtnPtg.setToolTipText(&quot;Alt+2&quot;);</span>
<span class="nc" id="L543">        BtnPtg.setName(&quot;BtnPtg&quot;); // NOI18N</span>
<span class="nc" id="L544">        BtnPtg.setPreferredSize(new java.awt.Dimension(28, 23));</span>
<span class="nc" id="L545">        BtnPtg.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L547">                BtnPtgActionPerformed(evt);</span>
<span class="nc" id="L548">            }</span>
        });
<span class="nc" id="L550">        panelisi3.add(BtnPtg);</span>
<span class="nc" id="L551">        BtnPtg.setBounds(774, 40, 28, 23);</span>

<span class="nc" id="L553">        Jenisjual.setModel(new javax.swing.DefaultComboBoxModel(new String[] { &quot;Ranap Umum&quot;, &quot;Ranap BPJS&quot;, &quot;Rawat Jalan&quot; }));</span>
<span class="nc" id="L554">        Jenisjual.setName(&quot;Jenisjual&quot;); // NOI18N</span>
<span class="nc" id="L555">        Jenisjual.setPreferredSize(new java.awt.Dimension(40, 23));</span>
<span class="nc" id="L556">        Jenisjual.addItemListener(new java.awt.event.ItemListener() {</span>
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
<span class="nc" id="L558">                JenisjualItemStateChanged(evt);</span>
<span class="nc" id="L559">            }</span>
        });
<span class="nc" id="L561">        Jenisjual.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L563">                JenisjualKeyPressed(evt);</span>
<span class="nc" id="L564">            }</span>
        });
<span class="nc" id="L566">        panelisi3.add(Jenisjual);</span>
<span class="nc" id="L567">        Jenisjual.setBounds(239, 70, 95, 23);</span>

<span class="nc" id="L569">        label18.setText(&quot;Catatan :&quot;);</span>
<span class="nc" id="L570">        label18.setName(&quot;label18&quot;); // NOI18N</span>
<span class="nc" id="L571">        label18.setPreferredSize(new java.awt.Dimension(60, 23));</span>
<span class="nc" id="L572">        panelisi3.add(label18);</span>
<span class="nc" id="L573">        label18.setBounds(0, 40, 70, 23);</span>

<span class="nc" id="L575">        catatan.setName(&quot;catatan&quot;); // NOI18N</span>
<span class="nc" id="L576">        catatan.setPreferredSize(new java.awt.Dimension(207, 23));</span>
<span class="nc" id="L577">        catatan.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L579">                catatanKeyPressed(evt);</span>
<span class="nc" id="L580">            }</span>
        });
<span class="nc" id="L582">        panelisi3.add(catatan);</span>
<span class="nc" id="L583">        catatan.setBounds(74, 40, 260, 23);</span>

<span class="nc" id="L585">        label12.setText(&quot;Jns.Jual :&quot;);</span>
<span class="nc" id="L586">        label12.setName(&quot;label12&quot;); // NOI18N</span>
<span class="nc" id="L587">        label12.setPreferredSize(new java.awt.Dimension(70, 23));</span>
<span class="nc" id="L588">        panelisi3.add(label12);</span>
<span class="nc" id="L589">        label12.setBounds(170, 70, 65, 23);</span>

<span class="nc" id="L591">        label11.setText(&quot;Tanggal :&quot;);</span>
<span class="nc" id="L592">        label11.setName(&quot;label11&quot;); // NOI18N</span>
<span class="nc" id="L593">        label11.setPreferredSize(new java.awt.Dimension(70, 23));</span>
<span class="nc" id="L594">        panelisi3.add(label11);</span>
<span class="nc" id="L595">        label11.setBounds(0, 70, 70, 23);</span>

<span class="nc" id="L597">        Tgl.setEditable(false);</span>
<span class="nc" id="L598">        Tgl.setDisplayFormat(&quot;yyyy-MM-dd&quot;);</span>
<span class="nc" id="L599">        Tgl.setName(&quot;Tgl&quot;); // NOI18N</span>
<span class="nc" id="L600">        Tgl.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L602">                TglKeyPressed(evt);</span>
<span class="nc" id="L603">            }</span>
        });
<span class="nc" id="L605">        panelisi3.add(Tgl);</span>
<span class="nc" id="L606">        Tgl.setBounds(74, 70, 95, 23);</span>

<span class="nc" id="L608">        label21.setText(&quot;Lokasi :&quot;);</span>
<span class="nc" id="L609">        label21.setName(&quot;label21&quot;); // NOI18N</span>
<span class="nc" id="L610">        label21.setPreferredSize(new java.awt.Dimension(70, 23));</span>
<span class="nc" id="L611">        panelisi3.add(label21);</span>
<span class="nc" id="L612">        label21.setBounds(376, 70, 60, 23);</span>

<span class="nc" id="L614">        kdgudang.setName(&quot;kdgudang&quot;); // NOI18N</span>
<span class="nc" id="L615">        kdgudang.setPreferredSize(new java.awt.Dimension(80, 23));</span>
<span class="nc" id="L616">        kdgudang.addKeyListener(new java.awt.event.KeyAdapter() {</span>
            public void keyPressed(java.awt.event.KeyEvent evt) {
<span class="nc" id="L618">                kdgudangKeyPressed(evt);</span>
<span class="nc" id="L619">            }</span>
        });
<span class="nc" id="L621">        panelisi3.add(kdgudang);</span>
<span class="nc" id="L622">        kdgudang.setBounds(439, 70, 100, 23);</span>

<span class="nc" id="L624">        nmgudang.setEditable(false);</span>
<span class="nc" id="L625">        nmgudang.setName(&quot;nmgudang&quot;); // NOI18N</span>
<span class="nc" id="L626">        nmgudang.setPreferredSize(new java.awt.Dimension(207, 23));</span>
<span class="nc" id="L627">        panelisi3.add(nmgudang);</span>
<span class="nc" id="L628">        nmgudang.setBounds(540, 70, 232, 23);</span>

<span class="nc" id="L630">        BtnGudang.setIcon(new javax.swing.ImageIcon(getClass().getResource(&quot;/picture/190.png&quot;))); // NOI18N</span>
<span class="nc" id="L631">        BtnGudang.setMnemonic('2');</span>
<span class="nc" id="L632">        BtnGudang.setToolTipText(&quot;Alt+2&quot;);</span>
<span class="nc" id="L633">        BtnGudang.setName(&quot;BtnGudang&quot;); // NOI18N</span>
<span class="nc" id="L634">        BtnGudang.setPreferredSize(new java.awt.Dimension(28, 23));</span>
<span class="nc" id="L635">        BtnGudang.addActionListener(new java.awt.event.ActionListener() {</span>
            public void actionPerformed(java.awt.event.ActionEvent evt) {
<span class="nc" id="L637">                BtnGudangActionPerformed(evt);</span>
<span class="nc" id="L638">            }</span>
        });
<span class="nc" id="L640">        panelisi3.add(BtnGudang);</span>
<span class="nc" id="L641">        BtnGudang.setBounds(774, 70, 28, 23);</span>

<span class="nc" id="L643">        internalFrame1.add(panelisi3, java.awt.BorderLayout.PAGE_START);</span>

<span class="nc" id="L645">        getContentPane().add(internalFrame1, java.awt.BorderLayout.CENTER);</span>

<span class="nc" id="L647">        pack();</span>
<span class="nc" id="L648">    }// &lt;/editor-fold&gt;//GEN-END:initComponents</span>

    private void tbDokterMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tbDokterMouseClicked
<span class="nc bnc" id="L651" title="All 2 branches missed.">        if(tabMode.getRowCount()!=0){</span>
            try {                  
<span class="nc" id="L653">                getData();</span>
<span class="nc" id="L654">            } catch (java.lang.NullPointerException e) {</span>
<span class="nc" id="L655">            }</span>
        }
<span class="nc" id="L657">}//GEN-LAST:event_tbDokterMouseClicked</span>

    private void tbDokterKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tbDokterKeyPressed
<span class="nc bnc" id="L660" title="All 2 branches missed.">        if(tabMode.getRowCount()!=0){</span>
<span class="nc bnc" id="L661" title="All 2 branches missed.">            if(evt.getKeyCode()==KeyEvent.VK_ENTER){</span>
                try {                                     
<span class="nc" id="L663">                    getData();                     </span>
<span class="nc" id="L664">                    TCari.setText(&quot;&quot;);</span>
<span class="nc" id="L665">                    TCari.requestFocus();</span>
<span class="nc" id="L666">                } catch (java.lang.NullPointerException e) {</span>
<span class="nc" id="L667">                }</span>
<span class="nc bnc" id="L668" title="All 4 branches missed.">            }else if((evt.getKeyCode()==KeyEvent.VK_UP)||(evt.getKeyCode()==KeyEvent.VK_DOWN)){</span>
                try {                                     
<span class="nc" id="L670">                    getData();           </span>
<span class="nc" id="L671">                } catch (java.lang.NullPointerException e) {</span>
<span class="nc" id="L672">                }</span>
<span class="nc bnc" id="L673" title="All 2 branches missed.">            }else if(evt.getKeyCode()==KeyEvent.VK_DELETE){</span>
<span class="nc" id="L674">                int row=tbDokter.getSelectedRow();</span>
<span class="nc bnc" id="L675" title="All 2 branches missed.">                if(row!= -1){</span>
<span class="nc" id="L676">                    tabMode.setValueAt(&quot;&quot;, row,0);</span>
                }
            }
        }
<span class="nc" id="L680">}//GEN-LAST:event_tbDokterKeyPressed</span>

    private void BtnCariActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnCariActionPerformed
<span class="nc" id="L683">        this.setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));</span>
<span class="nc" id="L684">        carijual.emptTeks();        </span>
<span class="nc" id="L685">        carijual.tampil();</span>
<span class="nc" id="L686">        carijual.setSize(internalFrame1.getWidth()-40,internalFrame1.getHeight()-40);</span>
<span class="nc" id="L687">        carijual.setLocationRelativeTo(internalFrame1);</span>
<span class="nc" id="L688">        carijual.setAlwaysOnTop(false);</span>
<span class="nc" id="L689">        carijual.setVisible(true);</span>
<span class="nc" id="L690">        this.setCursor(Cursor.getDefaultCursor());</span>
<span class="nc" id="L691">}//GEN-LAST:event_BtnCariActionPerformed</span>

    private void BtnKeluarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnKeluarActionPerformed
<span class="nc" id="L694">            dispose();  </span>
<span class="nc" id="L695">}//GEN-LAST:event_BtnKeluarActionPerformed</span>

    private void BtnKeluarKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_BtnKeluarKeyPressed
<span class="nc bnc" id="L698" title="All 2 branches missed.">        if(evt.getKeyCode()==KeyEvent.VK_SPACE){            </span>
<span class="nc" id="L699">            dispose();              </span>
<span class="nc" id="L700">        }else{Valid.pindah(evt,BtnCari,TCari);}</span>
<span class="nc" id="L701">}//GEN-LAST:event_BtnKeluarKeyPressed</span>
/*
private void KdKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TKdKeyPressed
    Valid.pindah(evt,BtnCari,Nm);
}//GEN-LAST:event_TKdKeyPressed
*/

    private void BtnSimpanActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnSimpanActionPerformed
<span class="nc bnc" id="L709" title="All 2 branches missed.">        if(NoNota.getText().trim().equals(&quot;&quot;)){</span>
<span class="nc" id="L710">            Valid.textKosong(NoNota,&quot;No.Nota&quot;);</span>
<span class="nc bnc" id="L711" title="All 4 branches missed.">        }else if(nmmem.getText().trim().equals(&quot;&quot;)||kdmem.getText().trim().equals(&quot;&quot;)){</span>
<span class="nc" id="L712">            Valid.textKosong(kdmem,&quot;Pasien&quot;);</span>
<span class="nc bnc" id="L713" title="All 4 branches missed.">        }else if(nmptg.getText().trim().equals(&quot;&quot;)||nmptg.getText().trim().equals(&quot;&quot;)){</span>
<span class="nc" id="L714">            Valid.textKosong(kdptg,&quot;Petugas&quot;);</span>
<span class="nc bnc" id="L715" title="All 4 branches missed.">        }else if(nmgudang.getText().trim().equals(&quot;&quot;)||kdgudang.getText().trim().equals(&quot;&quot;)){</span>
<span class="nc" id="L716">            Valid.textKosong(kdgudang,&quot;Gudang&quot;);</span>
<span class="nc bnc" id="L717" title="All 2 branches missed.">        }else if(tabMode.getRowCount()==0){</span>
<span class="nc" id="L718">            JOptionPane.showMessageDialog(null,&quot;Maaf, data sudah habis...!!!!&quot;);</span>
<span class="nc" id="L719">            tbDokter.requestFocus();</span>
<span class="nc bnc" id="L720" title="All 2 branches missed.">        }else if(ttl&lt;=0){</span>
<span class="nc" id="L721">            JOptionPane.showMessageDialog(null,&quot;Maaf, Silahkan masukkan penjualan...!!!!&quot;);</span>
<span class="nc" id="L722">            tbDokter.requestFocus();</span>
        }else{
<span class="nc" id="L724">            int reply = JOptionPane.showConfirmDialog(rootPane,&quot;Eeiiiiiits, udah bener belum data yang mau disimpan..??&quot;,&quot;Konfirmasi&quot;,JOptionPane.YES_NO_OPTION);</span>
<span class="nc bnc" id="L725" title="All 2 branches missed.">            if (reply == JOptionPane.YES_OPTION) {</span>
                try {
<span class="nc" id="L727">                    koneksi.createStatement().execute(</span>
<span class="nc" id="L728">                        &quot;insert into penjualan values('&quot;+NoNota.getText()+&quot;','&quot;+Tgl.getSelectedItem()+&quot;','&quot;+kdptg.getText()+&quot;','&quot;+kdmem.getText()+</span>
<span class="nc" id="L729">                        &quot;','&quot;+nmmem.getText()+&quot;','&quot;+catatan.getText()+&quot;','&quot;+Jenisjual.getSelectedItem()+&quot;','0','Umum','&quot;+kdgudang.getText()+&quot;')&quot;);</span>
<span class="nc" id="L730">                    int row=tabMode.getRowCount();</span>
<span class="nc bnc" id="L731" title="All 2 branches missed.">                    for(int i=0;i&lt;row;i++){  </span>
<span class="nc bnc" id="L732" title="All 2 branches missed.">                         if(Valid.SetAngka(tabMode.getValueAt(i,0).toString())&gt;0){</span>
<span class="nc" id="L733">                                Sequel.menyimpan(&quot;detailjual&quot;,&quot;'&quot;+NoNota.getText()+&quot;','&quot;+</span>
<span class="nc" id="L734">                                        tabMode.getValueAt(i,1).toString()+&quot;','&quot;+</span>
<span class="nc" id="L735">                                        tabMode.getValueAt(i,4).toString()+&quot;','&quot;+</span>
<span class="nc" id="L736">                                        tabMode.getValueAt(i,5).toString()+&quot;','&quot;+</span>
<span class="nc" id="L737">                                        Sequel.cariIsi(&quot;select h_beli from databarang where kode_brng=?&quot;,tabMode.getValueAt(i,1).toString())+&quot;','&quot;+</span>
<span class="nc" id="L738">                                        tabMode.getValueAt(i,0).toString()+&quot;','&quot;+</span>
<span class="nc" id="L739">                                        tabMode.getValueAt(i,6).toString()+&quot;','&quot;+</span>
<span class="nc" id="L740">                                        tabMode.getValueAt(i,7).toString()+&quot;','&quot;+</span>
<span class="nc" id="L741">                                        tabMode.getValueAt(i,8).toString()+&quot;','&quot;+</span>
<span class="nc" id="L742">                                        tabMode.getValueAt(i,9).toString()+&quot;','&quot;+</span>
<span class="nc" id="L743">                                        tabMode.getValueAt(i,10).toString()+&quot;'&quot;,&quot;Transaksi Penjualan&quot;); </span>
<span class="nc" id="L744">                                Sequel.menyimpan(&quot;gudangbarang&quot;,&quot;'&quot;+tabMode.getValueAt(i,1).toString()+&quot;','&quot;+kdgudang.getText()+&quot;','-&quot;+tabMode.getValueAt(i,0).toString()+&quot;'&quot;, </span>
<span class="nc" id="L745">                                        &quot;stok=stok-'&quot;+tabMode.getValueAt(i,0).toString()+&quot;'&quot;,&quot;kode_brng='&quot;+tabMode.getValueAt(i,1).toString()+&quot;' and kd_bangsal='&quot;+kdgudang.getText()+&quot;'&quot;);</span>
                         }                
                    }   
<span class="nc" id="L748">                    ResultSet rs2=koneksi.createStatement().executeQuery(&quot;select * from rekening where kd_rek='41000'&quot;);</span>
<span class="nc bnc" id="L749" title="All 2 branches missed.">                    if(!rs2.next()){</span>
<span class="nc" id="L750">                        koneksi.createStatement().execute(&quot;insert into rekening values('41000','PENJUALAN','R','K')&quot;);</span>
                    }
                    
<span class="nc" id="L753">                    ResultSet rs3=koneksi.createStatement().executeQuery(&quot;select * from rekening where kd_rek='11120'&quot;);</span>
<span class="nc bnc" id="L754" title="All 2 branches missed.">                    if(!rs3.next()){</span>
<span class="nc" id="L755">                        koneksi.createStatement().execute(&quot;insert into rekening values('11120','KAS DI TANGAN','N','D')&quot;);</span>
                    }
                    
<span class="nc" id="L758">                    ResultSet rs4=koneksi.createStatement().executeQuery(&quot;select * from rekeningtahun where thn='&quot;+Tgl.getSelectedItem().toString().substring(0,4) +&quot;' and kd_rek='41000'&quot;);</span>
<span class="nc bnc" id="L759" title="All 2 branches missed.">                    if(!rs4.next()){</span>
<span class="nc" id="L760">                        koneksi.createStatement().execute(&quot;insert into rekeningtahun values('&quot;+Tgl.getSelectedItem().toString().substring(0,4) +&quot;','41000','0')&quot;);</span>
                    }
                    
<span class="nc" id="L763">                    ResultSet rs5=koneksi.createStatement().executeQuery(&quot;select * from rekeningtahun where thn='&quot;+Tgl.getSelectedItem().toString().substring(0,4) +&quot;' and kd_rek='11120'&quot;);</span>
<span class="nc bnc" id="L764" title="All 2 branches missed.">                    if(!rs5.next()){</span>
<span class="nc" id="L765">                        koneksi.createStatement().execute(&quot;insert into rekeningtahun values('&quot;+Tgl.getSelectedItem().toString().substring(0,4) +&quot;','11120','0')&quot;);</span>
                    }
                    
<span class="nc" id="L768">                    Sequel.queryu(&quot;delete from tampjurnal&quot;);                    </span>
<span class="nc" id="L769">                    Sequel.menyimpan(&quot;tampjurnal&quot;,&quot;'41000','PENJUALAN','0','&quot;+ttl+&quot;'&quot;,&quot;Rekening&quot;);    </span>
<span class="nc" id="L770">                    Sequel.menyimpan(&quot;tampjurnal&quot;,&quot;'11120','KAS DI TANGAN','&quot;+ttl+&quot;','0'&quot;,&quot;Rekening&quot;); </span>
<span class="nc" id="L771">                    jur.simpanJurnal(NoNota.getText(),Tgl.getSelectedItem().toString(),&quot;U&quot;,&quot;PENJUALAN DI &quot;+nmgudang.getText().toUpperCase());                    </span>
<span class="nc" id="L772">                } catch (SQLException ex) {</span>
<span class="nc" id="L773">                    System.out.println(ex);</span>
<span class="nc" id="L774">                    int konfirm = JOptionPane.showConfirmDialog(rootPane,&quot;No.Nota sudah ada sebelumnya,\napa data mau ditambahkan ke penjualan di No.Nota tersebut..??&quot;,&quot;Konfirmasi&quot;,JOptionPane.YES_NO_OPTION);</span>
<span class="nc bnc" id="L775" title="All 2 branches missed.">                    if (konfirm == JOptionPane.YES_OPTION) {</span>
                        try {
<span class="nc" id="L777">                            int row=tabMode.getRowCount();</span>
<span class="nc bnc" id="L778" title="All 2 branches missed.">                            for(int i=0;i&lt;row;i++){  </span>
<span class="nc bnc" id="L779" title="All 2 branches missed.">                                 if(Valid.SetAngka(tabMode.getValueAt(i,0).toString())&gt;0){</span>
<span class="nc" id="L780">                                        Sequel.menyimpan(&quot;detailjual&quot;,&quot;'&quot;+NoNota.getText()+&quot;','&quot;+</span>
<span class="nc" id="L781">                                            tabMode.getValueAt(i,0).toString()+&quot;','&quot;+</span>
<span class="nc" id="L782">                                            tabMode.getValueAt(i,1).toString()+&quot;','&quot;+</span>
<span class="nc" id="L783">                                            tabMode.getValueAt(i,4).toString()+&quot;','&quot;+</span>
<span class="nc" id="L784">                                            tabMode.getValueAt(i,5).toString()+&quot;','&quot;+</span>
<span class="nc" id="L785">                                            tabMode.getValueAt(i,6).toString()+&quot;','&quot;+</span>
<span class="nc" id="L786">                                            tabMode.getValueAt(i,7).toString()+&quot;','&quot;+</span>
<span class="nc" id="L787">                                            tabMode.getValueAt(i,8).toString()+&quot;','&quot;+</span>
<span class="nc" id="L788">                                            tabMode.getValueAt(i,9).toString()+&quot;','&quot;+</span>
<span class="nc" id="L789">                                            tabMode.getValueAt(i,10).toString()+&quot;'&quot;,&quot;Transaksi Penjualan&quot;); </span>
<span class="nc" id="L790">                                    Sequel.menyimpan(&quot;gudangbarang&quot;,&quot;'&quot;+tabMode.getValueAt(i,1).toString()+&quot;','&quot;+kdgudang.getText()+&quot;','-&quot;+tabMode.getValueAt(i,0).toString()+&quot;'&quot;, </span>
<span class="nc" id="L791">                                                     &quot;stok=stok-'&quot;+tabMode.getValueAt(i,0).toString()+&quot;'&quot;,&quot;kode_brng='&quot;+tabMode.getValueAt(i,1).toString()+&quot;' and kd_bangsal='&quot;+kdgudang.getText()+&quot;'&quot;);  </span>
                                 }                
                            }  
                            
                            
<span class="nc" id="L796">                                ResultSet rs2=koneksi.createStatement().executeQuery(&quot;select * from rekening where kd_rek='41000'&quot;);</span>
<span class="nc bnc" id="L797" title="All 2 branches missed.">                                if(!rs2.next()){</span>
<span class="nc" id="L798">                                    koneksi.createStatement().execute(&quot;insert into rekening values('41000','PENJUALAN','R','K')&quot;);</span>
                                }
                        
<span class="nc" id="L801">                                ResultSet rs3=koneksi.createStatement().executeQuery(&quot;select * from rekening where kd_rek='11120'&quot;);</span>
<span class="nc bnc" id="L802" title="All 2 branches missed.">                                if(!rs3.next()){</span>
<span class="nc" id="L803">                                    koneksi.createStatement().execute(&quot;insert into rekening values('11120','KAS DI TANGAN','N','D')&quot;);</span>
                                }
                        
<span class="nc" id="L806">                                ResultSet rs4=koneksi.createStatement().executeQuery(&quot;select * from rekeningtahun where thn='&quot;+Tgl.getSelectedItem().toString().substring(0,4) +&quot;' and kd_rek='41000'&quot;);</span>
<span class="nc bnc" id="L807" title="All 2 branches missed.">                                if(!rs4.next()){</span>
<span class="nc" id="L808">                                    koneksi.createStatement().execute(&quot;insert into rekeningtahun values('&quot;+Tgl.getSelectedItem().toString().substring(0,4) +&quot;','41000','0')&quot;);</span>
                                }
                        
<span class="nc" id="L811">                                ResultSet rs5=koneksi.createStatement().executeQuery(&quot;select * from rekeningtahun where thn='&quot;+Tgl.getSelectedItem().toString().substring(0,4) +&quot;' and kd_rek='11120'&quot;);</span>
<span class="nc bnc" id="L812" title="All 2 branches missed.">                                if(!rs5.next()){</span>
<span class="nc" id="L813">                                    koneksi.createStatement().execute(&quot;insert into rekeningtahun values('&quot;+Tgl.getSelectedItem().toString().substring(0,4) +&quot;','11120','0')&quot;);</span>
                                }
                                
<span class="nc" id="L816">                                Sequel.queryu(&quot;delete from tampjurnal&quot;);                    </span>
<span class="nc" id="L817">                                Sequel.menyimpan(&quot;tampjurnal&quot;,&quot;'41000','PENJUALAN','0','&quot;+ttl+&quot;'&quot;,&quot;Rekening&quot;);    </span>
<span class="nc" id="L818">                                Sequel.menyimpan(&quot;tampjurnal&quot;,&quot;'11120','KAS DI TANGAN','&quot;+ttl+&quot;','0'&quot;,&quot;Rekening&quot;); </span>
<span class="nc" id="L819">                                jur.simpanJurnal(NoNota.getText(),Tgl.getSelectedItem().toString(),&quot;U&quot;,&quot;PENJUALAN DI &quot;+nmgudang.getText().toUpperCase());</span>
<span class="nc" id="L820">                        } catch (SQLException ex1) {</span>
<span class="nc" id="L821">                            System.out.println(ex1);</span>
<span class="nc" id="L822">                        }</span>
                    }
<span class="nc" id="L824">                }                </span>
        
<span class="nc" id="L826">                Valid.autoNomer3(&quot;select ifnull(MAX(CONVERT(RIGHT(nota_jual,6),signed)),0) from penjualan &quot;,&quot;PJ&quot;,6,NoNota); </span>
<span class="nc" id="L827">                int row2=tabMode.getRowCount();</span>
<span class="nc bnc" id="L828" title="All 2 branches missed.">                for(int r=0;r&lt;row2;r++){ </span>
<span class="nc bnc" id="L829" title="All 2 branches missed.">                    if(!tabMode.getValueAt(r,0).toString().equals(&quot;&quot;)){</span>
<span class="nc" id="L830">                        tabMode.setValueAt(Double.toString(Double.parseDouble(tabMode.getValueAt(r,11).toString())-Double.parseDouble(tabMode.getValueAt(r,0).toString())),r,11);</span>
                    }      
<span class="nc" id="L832">                    tabMode.setValueAt(&quot;&quot;,r,0);</span>
<span class="nc" id="L833">                    tabMode.setValueAt(&quot;0&quot;,r,6);</span>
<span class="nc" id="L834">                    tabMode.setValueAt(&quot;0&quot;,r,7);</span>
<span class="nc" id="L835">                    tabMode.setValueAt(&quot;0&quot;,r,8);  </span>
<span class="nc" id="L836">                    tabMode.setValueAt(&quot;0&quot;,r,9);  </span>
<span class="nc" id="L837">                    tabMode.setValueAt(&quot;0&quot;,r,10);           </span>
                }
<span class="nc" id="L839">                getData();</span>
            }
        }
<span class="nc" id="L842">    }//GEN-LAST:event_BtnSimpanActionPerformed</span>

    private void BtnSimpanKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_BtnSimpanKeyPressed
<span class="nc bnc" id="L845" title="All 2 branches missed.">        if(evt.getKeyCode()==KeyEvent.VK_SPACE){</span>
<span class="nc" id="L846">            BtnSimpanActionPerformed(null);</span>
        }else{
<span class="nc" id="L848">           Valid.pindah(evt,kdgudang,BtnCari);</span>
        }
<span class="nc" id="L850">    }//GEN-LAST:event_BtnSimpanKeyPressed</span>

    private void BtnCariKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_BtnCariKeyPressed
<span class="nc bnc" id="L853" title="All 2 branches missed.">        if(evt.getKeyCode()==KeyEvent.VK_SPACE){</span>
<span class="nc" id="L854">            tampil();</span>
        }else{
<span class="nc" id="L856">            Valid.pindah(evt, BtnSimpan, BtnKeluar);</span>
        }
<span class="nc" id="L858">    }//GEN-LAST:event_BtnCariKeyPressed</span>

    private void BtnNotaActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnNotaActionPerformed
<span class="nc" id="L861">        this.setCursor(Cursor.getPredefinedCursor(Cursor.WAIT_CURSOR));</span>
<span class="nc bnc" id="L862" title="All 2 branches missed.">        if(NoNota.getText().trim().equals(&quot;&quot;)){</span>
<span class="nc" id="L863">            Valid.textKosong(NoNota,&quot;No.Nota&quot;);</span>
<span class="nc bnc" id="L864" title="All 4 branches missed.">        }else if(nmmem.getText().trim().equals(&quot;&quot;)||kdmem.getText().trim().equals(&quot;&quot;)){</span>
<span class="nc" id="L865">            Valid.textKosong(kdmem,&quot;Pasien&quot;);</span>
<span class="nc bnc" id="L866" title="All 4 branches missed.">        }else if(nmptg.getText().trim().equals(&quot;&quot;)||nmptg.getText().trim().equals(&quot;&quot;)){</span>
<span class="nc" id="L867">            Valid.textKosong(kdptg,&quot;Petugas&quot;);</span>
<span class="nc bnc" id="L868" title="All 2 branches missed.">        }else if(tabMode.getRowCount()==0){</span>
<span class="nc" id="L869">            JOptionPane.showMessageDialog(null,&quot;Maaf, data sudah habis...!!!!&quot;);</span>
<span class="nc" id="L870">            tbDokter.requestFocus();</span>
<span class="nc bnc" id="L871" title="All 2 branches missed.">        }else if(ttl&lt;=0){</span>
<span class="nc" id="L872">            JOptionPane.showMessageDialog(null,&quot;Maaf, Silahkan masukkan penjualan...!!!!&quot;);</span>
<span class="nc" id="L873">            tbDokter.requestFocus();</span>
        }else {
<span class="nc" id="L875">            Sequel.queryu(&quot;delete from temporary&quot;);</span>
<span class="nc" id="L876">            int row=tabMode.getRowCount();</span>
<span class="nc bnc" id="L877" title="All 2 branches missed.">            for(int i=0;i&lt;row;i++){  </span>
<span class="nc bnc" id="L878" title="All 2 branches missed.">                 if(Valid.SetAngka(tabMode.getValueAt(i,0).toString())&gt;0){</span>
<span class="nc" id="L879">                        Sequel.menyimpan(&quot;temporary&quot;,&quot;'0','&quot;+</span>
<span class="nc" id="L880">                                tabMode.getValueAt(i,0).toString()+&quot;','&quot;+</span>
<span class="nc" id="L881">                                tabMode.getValueAt(i,1).toString()+&quot;','&quot;+</span>
<span class="nc" id="L882">                                tabMode.getValueAt(i,2).toString()+&quot;','&quot;+</span>
<span class="nc" id="L883">                                tabMode.getValueAt(i,3).toString()+&quot;','&quot;+</span>
<span class="nc" id="L884">                                tabMode.getValueAt(i,4).toString()+&quot;','&quot;+</span>
<span class="nc" id="L885">                                tabMode.getValueAt(i,5).toString()+&quot;','&quot;+</span>
<span class="nc" id="L886">                                tabMode.getValueAt(i,6).toString()+&quot;','&quot;+</span>
<span class="nc" id="L887">                                tabMode.getValueAt(i,8).toString()+&quot;','&quot;+</span>
<span class="nc" id="L888">                                tabMode.getValueAt(i,10).toString()+&quot;','','','','','','','',''&quot;,&quot;Transaksi Penjualan&quot;); </span>
                 }                
            }
<span class="nc" id="L891">            Valid.panggilUrl(&quot;billing/NotaApotek.php?nonota=&quot;+NoNota.getText()+&quot;&amp;bayar=&quot;+Bayar.getText()+&quot;&amp;tanggal=&quot;+Tgl.getSelectedItem()+&quot;&amp;catatan=&quot;+catatan.getText().replaceAll(&quot; &quot;,&quot;_&quot;)+&quot;&amp;petugas=&quot;+nmptg.getText().replaceAll(&quot; &quot;,&quot;_&quot;)+&quot;&amp;pasien=&quot;+nmmem.getText().replaceAll(&quot; &quot;,&quot;_&quot;)+&quot;&amp;norm=&quot;+kdmem.getText().replaceAll(&quot; &quot;,&quot;_&quot;));</span>
        }
<span class="nc" id="L893">        this.setCursor(Cursor.getDefaultCursor());</span>
<span class="nc" id="L894">    }//GEN-LAST:event_BtnNotaActionPerformed</span>

    private void BtnNotaKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_BtnNotaKeyPressed
        // TODO add your handling code here:
<span class="nc" id="L898">    }//GEN-LAST:event_BtnNotaKeyPressed</span>

private void TCariKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TCariKeyPressed
<span class="nc bnc" id="L901" title="All 2 branches missed.">       if(evt.getKeyCode()==KeyEvent.VK_ENTER){</span>
<span class="nc" id="L902">            tampil();</span>
<span class="nc bnc" id="L903" title="All 2 branches missed.">        }else if(evt.getKeyCode()==KeyEvent.VK_PAGE_DOWN){</span>
<span class="nc" id="L904">            BtnCari1.requestFocus();</span>
<span class="nc bnc" id="L905" title="All 2 branches missed.">        }else if(evt.getKeyCode()==KeyEvent.VK_PAGE_UP){</span>
<span class="nc" id="L906">            BtnKeluar.requestFocus();</span>
<span class="nc bnc" id="L907" title="All 2 branches missed.">        }else if(evt.getKeyCode()==KeyEvent.VK_UP){</span>
<span class="nc" id="L908">            tbDokter.requestFocus();</span>
        }
<span class="nc" id="L910">}//GEN-LAST:event_TCariKeyPressed</span>

private void BtnCari1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnCari1ActionPerformed
<span class="nc" id="L913">        tampil();</span>
<span class="nc" id="L914">}//GEN-LAST:event_BtnCari1ActionPerformed</span>

private void BtnCari1KeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_BtnCari1KeyPressed
<span class="nc bnc" id="L917" title="All 2 branches missed.">        if(evt.getKeyCode()==KeyEvent.VK_SPACE){</span>
<span class="nc" id="L918">            tampil();</span>
        }else{
<span class="nc" id="L920">            Valid.pindah(evt, TCari, Bayar);</span>
        }
<span class="nc" id="L922">}//GEN-LAST:event_BtnCari1KeyPressed</span>

private void NoNotaKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_NoNotaKeyPressed
<span class="nc" id="L925">        Valid.pindah(evt,TCari, Tgl);</span>
<span class="nc" id="L926">}//GEN-LAST:event_NoNotaKeyPressed</span>

private void kdmemKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_kdmemKeyPressed
<span class="nc bnc" id="L929" title="All 2 branches missed.">        if(evt.getKeyCode()==KeyEvent.VK_PAGE_DOWN){</span>
<span class="nc" id="L930">            Sequel.cariIsi(&quot;select nm_pasien from pasien where no_rkm_medis=?&quot;, nmmem,kdmem.getText());         </span>
<span class="nc bnc" id="L931" title="All 2 branches missed.">        }else if(evt.getKeyCode()==KeyEvent.VK_PAGE_UP){</span>
<span class="nc" id="L932">            Sequel.cariIsi(&quot;select nm_pasien from pasien where no_rkm_medis=?&quot;, nmmem,kdmem.getText());</span>
<span class="nc" id="L933">            Tgl.requestFocus();</span>
<span class="nc bnc" id="L934" title="All 2 branches missed.">        }else if(evt.getKeyCode()==KeyEvent.VK_ENTER){</span>
<span class="nc" id="L935">            Sequel.cariIsi(&quot;select nm_pasien from pasien where no_rkm_medis=?&quot;, nmmem,kdmem.getText());</span>
<span class="nc" id="L936">            catatan.requestFocus();   </span>
        }
<span class="nc" id="L938">}//GEN-LAST:event_kdmemKeyPressed</span>

private void kdptgMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_kdptgMouseClicked
        // TODO add your handling code here:
<span class="nc" id="L942">}//GEN-LAST:event_kdptgMouseClicked</span>

private void kdptgKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_kdptgKeyPressed
<span class="nc bnc" id="L945" title="All 2 branches missed.">        if(evt.getKeyCode()==KeyEvent.VK_PAGE_DOWN){</span>
<span class="nc" id="L946">            Sequel.cariIsi(&quot;select nama from petugas where nip=?&quot;, nmptg,kdptg.getText());          </span>
<span class="nc bnc" id="L947" title="All 2 branches missed.">        }else if(evt.getKeyCode()==KeyEvent.VK_PAGE_UP){</span>
<span class="nc" id="L948">            Sequel.cariIsi(&quot;select nama from petugas where nip=?&quot;, nmptg,kdptg.getText());</span>
<span class="nc" id="L949">            Jenisjual.requestFocus();</span>
<span class="nc bnc" id="L950" title="All 2 branches missed.">        }else if(evt.getKeyCode()==KeyEvent.VK_ENTER){</span>
<span class="nc" id="L951">            Sequel.cariIsi(&quot;select nama from petugas where nip=?&quot;, nmptg,kdptg.getText());</span>
<span class="nc" id="L952">            TCari.requestFocus();  </span>
        }
<span class="nc" id="L954">}//GEN-LAST:event_kdptgKeyPressed</span>

private void BtnMemActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnMemActionPerformed
<span class="nc" id="L957">        var.setStatus(true);</span>
<span class="nc" id="L958">        carijual.pasien.emptTeks();</span>
<span class="nc" id="L959">        carijual.pasien.tampil();</span>
<span class="nc" id="L960">        carijual.pasien.setSize(internalFrame1.getWidth()-40,internalFrame1.getHeight()-40);</span>
<span class="nc" id="L961">        carijual.pasien.setLocationRelativeTo(internalFrame1);</span>
<span class="nc" id="L962">        carijual.pasien.setAlwaysOnTop(false);</span>
<span class="nc" id="L963">        carijual.pasien.setVisible(true);</span>
<span class="nc" id="L964">}//GEN-LAST:event_BtnMemActionPerformed</span>

private void BtnPtgActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnPtgActionPerformed
<span class="nc" id="L967">        carijual.petugas.emptTeks();</span>
<span class="nc" id="L968">        carijual.petugas.tampil();</span>
<span class="nc" id="L969">        carijual.petugas.setSize(internalFrame1.getWidth()-40,internalFrame1.getHeight()-40);</span>
<span class="nc" id="L970">        carijual.petugas.setLocationRelativeTo(internalFrame1);</span>
<span class="nc" id="L971">        carijual.petugas.setAlwaysOnTop(false);</span>
<span class="nc" id="L972">        carijual.petugas.setVisible(true);</span>
<span class="nc" id="L973">}//GEN-LAST:event_BtnPtgActionPerformed</span>

private void JenisjualItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_JenisjualItemStateChanged
<span class="nc" id="L976">       tampil();</span>
<span class="nc" id="L977">}//GEN-LAST:event_JenisjualItemStateChanged</span>

private void JenisjualKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_JenisjualKeyPressed
<span class="nc" id="L980">        Valid.pindah(evt, catatan, kdptg);</span>
<span class="nc" id="L981">}//GEN-LAST:event_JenisjualKeyPressed</span>

private void catatanKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_catatanKeyPressed
<span class="nc" id="L984">        Valid.pindah(evt, kdmem, Jenisjual);</span>
<span class="nc" id="L985">}//GEN-LAST:event_catatanKeyPressed</span>

private void TglKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_TglKeyPressed
<span class="nc" id="L988">        Valid.pindah(evt,NoNota,kdmem);</span>
<span class="nc" id="L989">}//GEN-LAST:event_TglKeyPressed</span>

private void ppBersihkanActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ppBersihkanActionPerformed
<span class="nc" id="L992">            int row2=tabMode.getRowCount();</span>
<span class="nc bnc" id="L993" title="All 2 branches missed.">            for(int r=0;r&lt;row2;r++){ </span>
<span class="nc" id="L994">                tabMode.setValueAt(&quot;&quot;,r,0);</span>
            }
<span class="nc" id="L996">}//GEN-LAST:event_ppBersihkanActionPerformed</span>

private void kdgudangKeyPressed(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_kdgudangKeyPressed
<span class="nc bnc" id="L999" title="All 2 branches missed.">    if(evt.getKeyCode()==KeyEvent.VK_PAGE_DOWN){</span>
<span class="nc" id="L1000">        Sequel.cariIsi(&quot;select bangsal.nm_bangsal from bangsal where bangsal.kd_bangsal=?&quot;,nmgudang,kdgudang.getText());</span>
<span class="nc" id="L1001">        tampil();</span>
<span class="nc bnc" id="L1002" title="All 2 branches missed.">    }else if(evt.getKeyCode()==KeyEvent.VK_PAGE_UP){</span>
<span class="nc" id="L1003">        Sequel.cariIsi(&quot;select bangsal.nm_bangsal from bangsal where bangsal.kd_bangsal=?&quot;,nmgudang,kdgudang.getText());</span>
<span class="nc" id="L1004">        tampil();</span>
<span class="nc" id="L1005">        kdptg.requestFocus();</span>
<span class="nc bnc" id="L1006" title="All 2 branches missed.">    }else if(evt.getKeyCode()==KeyEvent.VK_ENTER){</span>
<span class="nc" id="L1007">        Sequel.cariIsi(&quot;select bangsal.nm_bangsal from bangsal where bangsal.kd_bangsal=?&quot;,nmgudang,kdgudang.getText());</span>
<span class="nc" id="L1008">        tampil();</span>
<span class="nc" id="L1009">        BtnSimpan.requestFocus();</span>
    }
<span class="nc" id="L1011">}//GEN-LAST:event_kdgudangKeyPressed</span>

private void BtnGudangActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_BtnGudangActionPerformed
<span class="nc" id="L1014">    bangsal.tampil();</span>
<span class="nc" id="L1015">    bangsal.emptTeks();</span>
<span class="nc" id="L1016">    bangsal.setSize(internalFrame1.getWidth()-40,internalFrame1.getHeight()-40);</span>
<span class="nc" id="L1017">    bangsal.setLocationRelativeTo(internalFrame1);</span>
<span class="nc" id="L1018">    bangsal.setAlwaysOnTop(false);</span>
<span class="nc" id="L1019">    bangsal.setVisible(true);</span>
<span class="nc" id="L1020">}//GEN-LAST:event_BtnGudangActionPerformed</span>

    /**
    * @param args the command line arguments
    */
    public static void main(String args[]) {
<span class="nc" id="L1026">        java.awt.EventQueue.invokeLater(() -&gt; {</span>
            DlgPenjualan dialog = new DlgPenjualan(new javax.swing.JFrame(), true);
<span class="nc" id="L1028">            dialog.addWindowListener(new java.awt.event.WindowAdapter() {</span>
                @Override
                public void windowClosing(java.awt.event.WindowEvent e) {
<span class="nc" id="L1031">                    System.exit(0);</span>
<span class="nc" id="L1032">                }</span>
            });
            dialog.setVisible(true);
        });
<span class="nc" id="L1036">    }</span>

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private widget.TextBox Bayar;
    private widget.Button BtnCari;
    private widget.Button BtnCari1;
    private widget.Button BtnGudang;
    private widget.Button BtnKeluar;
    private widget.Button BtnMem;
    private widget.Button BtnNota;
    private widget.Button BtnPtg;
    private widget.Button BtnSimpan;
    private widget.ComboBox Jenisjual;
    private widget.TextBox Kd2;
    private widget.Label LKembali;
    private widget.Label LTotal;
    private widget.TextBox NoNota;
    private javax.swing.JPopupMenu Popup;
    private widget.TextBox TCari;
    private widget.Tanggal Tgl;
    private widget.TextBox catatan;
    private widget.InternalFrame internalFrame1;
    private javax.swing.JPanel jPanel1;
    private widget.TextBox kdgudang;
    private widget.TextBox kdmem;
    private widget.TextBox kdptg;
    private widget.Label label10;
    private widget.Label label11;
    private widget.Label label12;
    private widget.Label label13;
    private widget.Label label14;
    private widget.Label label15;
    private widget.Label label16;
    private widget.Label label18;
    private widget.Label label19;
    private widget.Label label20;
    private widget.Label label21;
    private widget.Label label9;
    private widget.TextBox nmgudang;
    private widget.TextBox nmmem;
    private widget.TextBox nmptg;
    private widget.panelisi panelisi1;
    private widget.panelisi panelisi3;
    private widget.panelisi panelisi5;
    private javax.swing.JMenuItem ppBersihkan;
    private widget.ScrollPane scrollPane1;
    private widget.Table tbDokter;
    // End of variables declaration//GEN-END:variables

    public void tampil() {
<span class="nc" id="L1086">        String sql =&quot;&quot;;</span>
<span class="nc bnc" id="L1087" title="All 2 branches missed.">        if(Jenisjual.getSelectedItem().equals(&quot;Ranap Umum&quot;)){</span>
<span class="nc" id="L1088">            sql=&quot;select databarang.kode_brng, databarang.nama_brng,jenis.nama, databarang.kode_sat, databarang.h_retail &quot;+</span>
                &quot; from databarang inner join jenis on databarang.kdjns=jenis.kdjns &quot;+
<span class="nc" id="L1090">                &quot; where databarang.kode_brng like '%&quot;+TCari.getText().trim()+&quot;%' or &quot;+</span>
<span class="nc" id="L1091">                &quot; databarang.nama_brng like '%&quot;+TCari.getText().trim()+&quot;%' or &quot;+</span>
<span class="nc" id="L1092">                &quot; jenis.nama like '%&quot;+TCari.getText().trim()+&quot;%' order by databarang.nama_brng&quot;;</span>
<span class="nc bnc" id="L1093" title="All 2 branches missed.">        }else if(Jenisjual.getSelectedItem().equals(&quot;Rawat Jalan&quot;)){</span>
<span class="nc" id="L1094">            sql=&quot;select databarang.kode_brng, databarang.nama_brng,jenis.nama, databarang.kode_sat, databarang.h_distributor &quot;+</span>
                &quot; from databarang inner join jenis on databarang.kdjns=jenis.kdjns &quot;+
<span class="nc" id="L1096">                &quot; where databarang.kode_brng like '%&quot;+TCari.getText().trim()+&quot;%' or &quot;+</span>
<span class="nc" id="L1097">                &quot; databarang.nama_brng like '%&quot;+TCari.getText().trim()+&quot;%' or &quot;+</span>
<span class="nc" id="L1098">                &quot; jenis.nama like '%&quot;+TCari.getText().trim()+&quot;%' order by databarang.nama_brng&quot;;</span>
<span class="nc bnc" id="L1099" title="All 2 branches missed.">        }else if(Jenisjual.getSelectedItem().equals(&quot;Ranap BPJS&quot;)){</span>
<span class="nc" id="L1100">            sql=&quot;select databarang.kode_brng, databarang.nama_brng,jenis.nama, databarang.kode_sat, databarang.h_grosir &quot;+</span>
                &quot; from databarang inner join jenis on databarang.kdjns=jenis.kdjns &quot;+
<span class="nc" id="L1102">                &quot; where databarang.kode_brng like '%&quot;+TCari.getText().trim()+&quot;%' or &quot;+</span>
<span class="nc" id="L1103">                &quot; databarang.nama_brng like '%&quot;+TCari.getText().trim()+&quot;%' or &quot;+</span>
<span class="nc" id="L1104">                &quot; jenis.nama like '%&quot;+TCari.getText().trim()+&quot;%' order by databarang.nama_brng&quot;;</span>
        }
          
<span class="nc" id="L1107">        prosesCari(sql);</span>
<span class="nc" id="L1108">    }</span>

    private void prosesCari(String sql) {
<span class="nc" id="L1111">        int row=tabMode.getRowCount();</span>
<span class="nc" id="L1112">        jml=0;</span>
<span class="nc bnc" id="L1113" title="All 2 branches missed.">        for(int i=0;i&lt;row;i++){</span>
<span class="nc bnc" id="L1114" title="All 2 branches missed.">            if(!tabMode.getValueAt(i,0).toString().equals(&quot;&quot;)){</span>
<span class="nc" id="L1115">                jml++;</span>
            }
        }
        
<span class="nc" id="L1119">        kodebarang=new String[jml];</span>
<span class="nc" id="L1120">        namabarang=new String[jml];</span>
<span class="nc" id="L1121">        kategori=new String[jml];</span>
<span class="nc" id="L1122">        satuan=new String[jml];</span>
<span class="nc" id="L1123">        harga=new String[jml];</span>
<span class="nc" id="L1124">        jumlah=new String[jml];</span>
<span class="nc" id="L1125">        subtotal=new String[jml];</span>
<span class="nc" id="L1126">        diskon=new String[jml];</span>
<span class="nc" id="L1127">        besardiskon=new String[jml];</span>
<span class="nc" id="L1128">        tambahan=new String[jml];</span>
<span class="nc" id="L1129">        totaljual=new String[jml];</span>
<span class="nc" id="L1130">        stok=new String[jml];</span>
<span class="nc" id="L1131">        int index=0;        </span>
<span class="nc bnc" id="L1132" title="All 2 branches missed.">        for(int i=0;i&lt;row;i++){</span>
<span class="nc bnc" id="L1133" title="All 2 branches missed.">            if(!tabMode.getValueAt(i,0).toString().equals(&quot;&quot;)){</span>
<span class="nc" id="L1134">                jumlah[index]=tabMode.getValueAt(i,0).toString();</span>
<span class="nc" id="L1135">                kodebarang[index]=tabMode.getValueAt(i,1).toString();</span>
<span class="nc" id="L1136">                namabarang[index]=tabMode.getValueAt(i,2).toString();</span>
<span class="nc" id="L1137">                kategori[index]=tabMode.getValueAt(i,3).toString();</span>
<span class="nc" id="L1138">                satuan[index]=tabMode.getValueAt(i,4).toString();</span>
<span class="nc" id="L1139">                harga[index]=tabMode.getValueAt(i,5).toString();</span>
<span class="nc" id="L1140">                subtotal[index]=tabMode.getValueAt(i,6).toString();</span>
<span class="nc" id="L1141">                diskon[index]=tabMode.getValueAt(i,7).toString();</span>
<span class="nc" id="L1142">                besardiskon[index]=tabMode.getValueAt(i,8).toString();</span>
<span class="nc" id="L1143">                tambahan[index]=tabMode.getValueAt(i,9).toString();</span>
<span class="nc" id="L1144">                totaljual[index]=tabMode.getValueAt(i,10).toString();</span>
<span class="nc" id="L1145">                stok[index]=tabMode.getValueAt(i,11).toString();</span>
<span class="nc" id="L1146">                index++;</span>
            }
        }
<span class="nc" id="L1149">        Valid.tabelKosong(tabMode);</span>
<span class="nc bnc" id="L1150" title="All 2 branches missed.">        for(int i=0;i&lt;jml;i++){</span>
<span class="nc" id="L1151">            String[] data={jumlah[i],kodebarang[i],namabarang[i],kategori[i],satuan[i],harga[i],subtotal[i],diskon[i],besardiskon[i],tambahan[i],totaljual[i],stok[i]};</span>
<span class="nc" id="L1152">            tabMode.addRow(data);</span>
        }
        try{
<span class="nc" id="L1155">            java.sql.Statement stat=koneksi.createStatement();</span>
<span class="nc" id="L1156">            ResultSet rs=stat.executeQuery(sql);</span>
<span class="nc bnc" id="L1157" title="All 2 branches missed.">            while(rs.next()){</span>
<span class="nc" id="L1158">                stokbarang=0;</span>
<span class="nc" id="L1159">                PreparedStatement ps=koneksi.prepareStatement(&quot;select stok from gudangbarang where kd_bangsal=? and kode_brng=?&quot;);</span>
<span class="nc" id="L1160">                ps.setString(1,kdgudang.getText());</span>
<span class="nc" id="L1161">                ps.setString(2,rs.getString(1));</span>
<span class="nc" id="L1162">                ResultSet rs2=ps.executeQuery();</span>
<span class="nc bnc" id="L1163" title="All 2 branches missed.">                if(rs2.next()){</span>
<span class="nc" id="L1164">                    stokbarang=rs2.getDouble(1);</span>
                }                
<span class="nc" id="L1166">                tabMode.addRow(new Object[]{&quot;&quot;,rs.getString(1),</span>
<span class="nc" id="L1167">                               rs.getString(2),</span>
<span class="nc" id="L1168">                               rs.getString(3),</span>
<span class="nc" id="L1169">                               rs.getString(4),</span>
<span class="nc" id="L1170">                               rs.getString(5),&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,&quot;0&quot;,stokbarang});</span>
<span class="nc" id="L1171">            }               </span>
<span class="nc" id="L1172">        }catch(SQLException e){</span>
<span class="nc" id="L1173">            System.out.println(&quot;Error : &quot;+e);</span>
<span class="nc" id="L1174">        }</span>
        
<span class="nc" id="L1176">    }</span>
    
       
    private void getData(){
<span class="nc" id="L1180">        int row=tbDokter.getSelectedRow();</span>
<span class="nc bnc" id="L1181" title="All 2 branches missed.">        if(nmgudang.getText().trim().equals(&quot;&quot;)){</span>
<span class="nc" id="L1182">            Valid.textKosong(kdgudang,&quot;Lokasi&quot;);</span>
<span class="nc bnc" id="L1183" title="All 2 branches missed.">        }else if(row!= -1){         </span>
<span class="nc" id="L1184">            int kolom=tbDokter.getSelectedColumn();  </span>
<span class="nc bnc" id="L1185" title="All 4 branches missed.">            if((kolom==1)||(kolom==5)){    </span>
<span class="nc bnc" id="L1186" title="All 2 branches missed.">               if(!tabMode.getValueAt(row,0).toString().equals(&quot;&quot;)){</span>
                   /*if(Double.parseDouble(tabMode.getValueAt(row,0).toString())&gt;Double.parseDouble(tabMode.getValueAt(row,11).toString())){
                        JOptionPane.showMessageDialog(null,&quot;Maaf, Stok tidak cukup....!!!&quot;);
                        TCari.requestFocus();
                        tabMode.setValueAt(&quot;&quot;, row,0);  
                        tabMode.setValueAt(0, row,6);                 
                        tabMode.setValueAt(0, row,10); 
                   }else{*/
<span class="nc" id="L1194">                        tabMode.setValueAt(Double.toString(Double.parseDouble(tabMode.getValueAt(row,0).toString())*Double.parseDouble(tabMode.getValueAt(row,5).toString())), row,6);                   </span>
<span class="nc" id="L1195">                        tabMode.setValueAt(Double.toString(Double.parseDouble(tabMode.getValueAt(row,0).toString())*Double.parseDouble(tabMode.getValueAt(row,5).toString())), row,10);   </span>
                  // }                                    
                }                 
<span class="nc bnc" id="L1198" title="All 2 branches missed.">            }else if(kolom==7){</span>
<span class="nc bnc" id="L1199" title="All 2 branches missed.">                if(!tabMode.getValueAt(row,7).toString().equals(&quot;&quot;)){</span>
<span class="nc" id="L1200">                    tabMode.setValueAt(Double.toString(Double.parseDouble(tabMode.getValueAt(row,6).toString())*(Double.parseDouble(tabMode.getValueAt(row,7).toString())/100)), row,8); </span>
<span class="nc" id="L1201">                    tabMode.setValueAt(Double.toString(Double.parseDouble(tabMode.getValueAt(row,6).toString())-Double.parseDouble(tabMode.getValueAt(row,8).toString())), row,10);</span>
<span class="nc bnc" id="L1202" title="All 2 branches missed.">                }else if(tabMode.getValueAt(row,7).toString().equals(&quot;&quot;)){</span>
<span class="nc" id="L1203">                    tabMode.setValueAt(&quot;0&quot;, row,7); </span>
                }                
<span class="nc bnc" id="L1205" title="All 2 branches missed.">            }else if(kolom==8){</span>
<span class="nc bnc" id="L1206" title="All 2 branches missed.">                if(!tabMode.getValueAt(row,8).toString().equals(&quot;&quot;)){</span>
<span class="nc" id="L1207">                    tabMode.setValueAt(Double.toString(Double.parseDouble(tabMode.getValueAt(row,6).toString())-Double.parseDouble(tabMode.getValueAt(row,8).toString())), row,10);</span>
<span class="nc bnc" id="L1208" title="All 2 branches missed.">                }else if(tabMode.getValueAt(row,8).toString().equals(&quot;&quot;)){</span>
<span class="nc" id="L1209">                    tabMode.setValueAt(&quot;0&quot;, row,8); </span>
                }                 
<span class="nc bnc" id="L1211" title="All 2 branches missed.">            }else if(kolom==9){</span>
<span class="nc bnc" id="L1212" title="All 2 branches missed.">                if(!tabMode.getValueAt(row,9).toString().equals(&quot;&quot;)){</span>
<span class="nc" id="L1213">                    tabMode.setValueAt(Double.toString(Double.parseDouble(tabMode.getValueAt(row,6).toString())-Double.parseDouble(tabMode.getValueAt(row,8).toString())+Double.parseDouble(tabMode.getValueAt(row,9).toString())), row,10);</span>
<span class="nc bnc" id="L1214" title="All 2 branches missed.">                }else if(tabMode.getValueAt(row,9).toString().equals(&quot;&quot;)){</span>
<span class="nc" id="L1215">                    tabMode.setValueAt(&quot;0&quot;, row,9); </span>
                }                 
            }              
            
<span class="nc" id="L1219">            ttl=0;</span>
<span class="nc" id="L1220">            y=0;</span>
<span class="nc" id="L1221">            int row2=tabMode.getRowCount();</span>
<span class="nc bnc" id="L1222" title="All 2 branches missed.">            for(int r=0;r&lt;row2;r++){ </span>
<span class="nc bnc" id="L1223" title="All 2 branches missed.">                if(!tabMode.getValueAt(r,10).toString().isEmpty()){</span>
<span class="nc" id="L1224">                    y=Double.parseDouble(tabMode.getValueAt(r,10).toString());                </span>
<span class="nc bnc" id="L1225" title="All 2 branches missed.">                }else if(tabMode.getValueAt(r,10).toString().isEmpty()){</span>
<span class="nc" id="L1226">                    y=0;                </span>
                }
<span class="nc" id="L1228">                ttl=ttl+y;</span>
            }
<span class="nc" id="L1230">            LTotal.setText(Valid.SetAngka(ttl));</span>
        }
<span class="nc" id="L1232">    }</span>
    
    
    private void isKembali(){
<span class="nc" id="L1236">       double bayar=0,total=0;</span>
<span class="nc bnc" id="L1237" title="All 2 branches missed.">        if(!Bayar.getText().trim().equals(&quot;&quot;)) {</span>
<span class="nc" id="L1238">            bayar=Double.parseDouble(Bayar.getText()); </span>
        }
<span class="nc bnc" id="L1240" title="All 2 branches missed.">        if(ttl&gt;0) {</span>
<span class="nc" id="L1241">            total=ttl; </span>
        }
<span class="nc" id="L1243">        LKembali.setText(df2.format(bayar-total));     </span>
<span class="nc" id="L1244">    }</span>
    
    public void isCek(){
<span class="nc" id="L1247">        Valid.autoNomer3(&quot;select ifnull(MAX(CONVERT(RIGHT(nota_jual,6),signed)),0) from penjualan &quot;,&quot;PJ&quot;,6,NoNota); </span>
<span class="nc" id="L1248">        TCari.requestFocus();</span>
<span class="nc bnc" id="L1249" title="All 2 branches missed.">        if(var.getjml2()&gt;=1){</span>
<span class="nc" id="L1250">            kdptg.setEditable(false);</span>
<span class="nc" id="L1251">            BtnPtg.setEnabled(false);</span>
<span class="nc" id="L1252">            BtnSimpan.setEnabled(var.getpenjualan());</span>
<span class="nc" id="L1253">            kdptg.setText(var.getkode());</span>
<span class="nc" id="L1254">            Sequel.cariIsi(&quot;select nama from petugas where nip=?&quot;, nmptg,kdptg.getText());</span>
        }        
<span class="nc" id="L1256">    }</span>
    
    public void setPasien(String norm){
<span class="nc" id="L1259">        kdmem.setText(norm);</span>
<span class="nc" id="L1260">        Sequel.cariIsi(&quot;select nm_pasien from pasien where no_rkm_medis=?&quot;, nmmem,kdmem.getText());</span>
<span class="nc" id="L1261">    }</span>
    
    

 
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.1.201405082137</span></div></body></html>